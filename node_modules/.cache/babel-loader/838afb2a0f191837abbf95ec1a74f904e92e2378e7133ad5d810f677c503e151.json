{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/gmedi/Desktop/Finance App/budget-app-complete/budget-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"C:/Users/gmedi/Desktop/Finance App/budget-app-complete/budget-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"l\"];import React,{useState,useEffect}from'react';import{createClient}from'@supabase/supabase-js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const supabase=createClient('https://wgjbslvpvgymdmlucpyh.supabase.co','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnamJzbHZwdmd5bWRtbHVjcHloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxODc5NzIsImV4cCI6MjA4Mjc2Mzk3Mn0.NKUxsGVOau6NpUaIsU1MgatvpdvQ8uSMHXeeb0UC4JI');const fmt=n=>\"$\".concat(Math.round(n||0).toLocaleString());export default function MedinaBudget(){const[page,setPage]=useState('dashboard');const[data,setData]=useState({income:[],bills:[],cards:[],loans:[]});const[loading,setLoading]=useState(true);useEffect(()=>{loadData();},[]);const loadData=async()=>{const[inc,bills,cards,loans,subs,notes]=await Promise.all([supabase.from('income_sources').select('*'),supabase.from('bills').select('*').eq('active',true),supabase.from('credit_cards').select('*').eq('active',true),supabase.from('loans').select('*').eq('active',true),supabase.from('subscriptions').select('*').eq('active',true).order('frequency',{ascending:true}).order('due_date',{ascending:true}),supabase.from('budget_notes').select('*').order('created_at',{ascending:false})]);setData({income:inc.data||[],bills:bills.data||[],cards:cards.data||[],loans:loans.data||[],subscriptions:subs.data||[],notes:notes.data||[]});setLoading(false);};if(loading)return/*#__PURE__*/_jsx(\"div\",{style:s.app,children:/*#__PURE__*/_jsx(\"div\",{style:s.loading,children:\"Loading MEDINA BUDGET...\"})});return/*#__PURE__*/_jsxs(\"div\",{style:s.app,children:[/*#__PURE__*/_jsxs(\"nav\",{style:s.nav,children:[/*#__PURE__*/_jsx(\"h1\",{style:s.title,children:\"\\uD83D\\uDCCA MEDINA BUDGET\"}),/*#__PURE__*/_jsx(\"div\",{style:s.links,children:['Dashboard','Monthly','Bills','Subscriptions','Debt','Settings'].map(p=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(p.toLowerCase()),style:_objectSpread(_objectSpread({},s.navBtn),page===p.toLowerCase()&&s.navBtnActive),children:p},p))})]}),/*#__PURE__*/_jsxs(\"main\",{style:s.main,children:[page==='dashboard'&&/*#__PURE__*/_jsx(Dashboard,{data:data,reload:loadData}),page==='monthly'&&/*#__PURE__*/_jsx(Monthly,{data:data,reload:loadData}),page==='bills'&&/*#__PURE__*/_jsx(Bills,{data:data,reload:loadData}),page==='subscriptions'&&/*#__PURE__*/_jsx(Subscriptions,{data:data,reload:loadData}),page==='debt'&&/*#__PURE__*/_jsx(Debt,{data:data,reload:loadData}),page==='settings'&&/*#__PURE__*/_jsx(Settings,{data:data,reload:loadData})]})]});}function Dashboard(_ref){let{data}=_ref;const totalIncome=data.income.reduce((s,i)=>s+ +i.amount,0)*2;const totalDebt=data.cards.reduce((s,c)=>s+ +c.balance,0)+data.loans.reduce((s,l)=>s+ +l.balance,0);// Calculate all monthly expenses (including investments and credit cards from Debt page)\nconst creditCardTotal=data.cards.filter(c=>c.min_payment>0).reduce((sum,c)=>sum+ +c.min_payment,0)+data.loans.filter(l=>l.monthly_payment>0).reduce((sum,l)=>sum+ +l.monthly_payment,0);const rentTotal=data.bills.filter(b=>b.category==='Rent').reduce((s,b)=>s+(b.default_amount||0),0);const monthlyExpensesTotal=data.bills.filter(b=>['Utility','Personal'].includes(b.category)&&b.name!=='Fundrise').reduce((s,b)=>s+(b.default_amount||0),0);const investmentTotal=data.bills.filter(b=>b.category==='Investment'||b.name==='Fundrise').reduce((s,b)=>s+(b.default_amount||0),0);const totalExpenses=creditCardTotal+rentTotal+monthlyExpensesTotal+investmentTotal;const monthlyLeftover=totalIncome-totalExpenses;// Credit Utilization\nconst totalBalance=data.cards.reduce((sum,c)=>sum+ +c.balance,0);const totalLimit=data.cards.reduce((sum,c)=>sum+ +(c.credit_limit||0),0);const utilization=totalLimit>0?totalBalance/totalLimit*100:0;const utilizationColor=utilization<30?'#4ade80':utilization<70?'#fbbf24':'#ef4444';// Split bills by period - exclude duplicates (credit cards are in both data.cards and data.bills)\nconst allBillsWithPayments=[...data.cards.filter(c=>c.min_payment>0).map(c=>({id:\"card-\".concat(c.id),name:c.name,amount:+c.min_payment,due_date:+c.due_date})),...data.loans.filter(l=>l.monthly_payment>0).map(l=>({id:\"loan-\".concat(l.id),name:l.name,amount:+l.monthly_payment,due_date:+l.due_date})),// Exclude Credit Card and Loan categories from bills to avoid duplicates\n...data.bills.filter(b=>b.default_amount>0&&!['Credit Card','Loan'].includes(b.category)).map(b=>({id:b.id,name:b.name,amount:+b.default_amount,due_date:+b.due_date}))];// Calculate current month paycheck counts\nconst now=new Date();const currentYear=now.getFullYear();const currentMonth=now.getMonth()+1;const daysInMonth=new Date(currentYear,currentMonth,0).getDate();const currentMonthStart=new Date(currentYear,currentMonth-1,1);const currentMonthEnd=new Date(currentYear,currentMonth-1,daysInMonth);const jorge=data.income.find(s=>s.person==='Jorge')||{};const anseli=data.income.find(s=>s.person==='Anseli')||{};// Calculate paychecks for current month\nconst calcCurrentMonthPaychecks=(nextPay,amount)=>{const checks=[];if(!nextPay)return checks;const payDate=new Date(nextPay+'T00:00:00');const daysDiff=Math.floor((currentMonthStart-payDate)/(1000*60*60*24));const periodsPassed=Math.max(0,Math.floor(daysDiff/14));let currentPay=new Date(payDate);currentPay.setDate(currentPay.getDate()+periodsPassed*14);if(currentPay<currentMonthStart){currentPay.setDate(currentPay.getDate()+14);}let iterations=0;while(currentPay<=currentMonthEnd&&iterations<10){checks.push({date:currentPay,amount:+amount});currentPay=new Date(currentPay);currentPay.setDate(currentPay.getDate()+14);iterations++;}return checks;};const jorgePaychecks=calcCurrentMonthPaychecks(jorge.next_pay_date,jorge.amount);const anseliPaychecks=calcCurrentMonthPaychecks(anseli.next_pay_date,anseli.amount);const hasThirdPaycheck=jorgePaychecks.length===3||anseliPaychecks.length===3;// Filter by period\nconst period1Bills=allBillsWithPayments.filter(b=>+b.due_date<=14).sort((a,b)=>a.due_date-b.due_date);const period2Bills=allBillsWithPayments.filter(b=>+b.due_date>=15).sort((a,b)=>a.due_date-b.due_date);const period1Total=period1Bills.reduce((sum,b)=>sum+ +b.amount,0);const period2Total=period2Bills.reduce((sum,b)=>sum+ +b.amount,0);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{style:s.grid,children:[/*#__PURE__*/_jsx(StatCard,{l:\"\\uD83D\\uDCB0 Monthly Income\",v:fmt(totalIncome),g:true}),/*#__PURE__*/_jsx(StatCard,{l:\"\\uD83D\\uDCB8 Monthly Leftover\",v:fmt(monthlyLeftover),g:monthlyLeftover>=0,sub:monthlyLeftover>=0?'Positive cash flow':'Overspending'}),/*#__PURE__*/_jsx(StatCard,{l:\"\\uD83D\\uDCB3 Total Debt\",v:fmt(totalDebt)}),/*#__PURE__*/_jsx(StatCard,{l:\"\\uD83D\\uDCCA Money Flow\",v:\"\".concat(fmt(totalExpenses)),sub:\"\".concat((totalExpenses/totalIncome*100).toFixed(1),\"% of income\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCB3 Credit Utilization\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(3, 1fr)',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Total Balance\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#ef4444'},children:fmt(totalBalance)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Total Limit\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700},children:totalLimit>0?fmt(totalLimit):'â€”'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Utilization\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:utilizationColor},children:totalLimit>0?\"\".concat(utilization.toFixed(1),\"%\"):'â€”'})]})]}),totalLimit>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#999',marginBottom:'0.25rem'},children:\"Credit Used\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',background:'#1a1a1a',borderRadius:'6px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(Math.min(utilization,100),\"%\"),background:utilizationColor,transition:'width 0.3s ease'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#666',marginTop:'0.25rem'},children:[fmt(totalBalance),\" of \",fmt(totalLimit)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#999',marginBottom:'0.25rem'},children:\"Total Credit Available\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',background:'#1a1a1a',borderRadius:'6px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:'100%',background:'linear-gradient(90deg, #4ade80, #22c55e)',transition:'width 0.3s ease'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#666',marginTop:'0.25rem'},children:[fmt(totalLimit-totalBalance),\" remaining\"]})]})]}),totalLimit===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#1a1a1a',borderRadius:'6px',textAlign:'center',color:'#999'},children:\"Add credit limits on the Debt page\"})]})}),/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCB0 Monthly Breakdown\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:\"\\uD83D\\uDCB3 Credit Cards\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:[(creditCardTotal/totalExpenses*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'#1a1a1a',borderRadius:'4px',overflow:'hidden',marginBottom:'0.25rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(creditCardTotal/totalExpenses*100,\"%\"),background:'#4ade80'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(creditCardTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:\"\\uD83C\\uDFE0 Rent\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:[(rentTotal/totalExpenses*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'#1a1a1a',borderRadius:'4px',overflow:'hidden',marginBottom:'0.25rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(rentTotal/totalExpenses*100,\"%\"),background:'#4ade80'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(rentTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:\"\\uD83D\\uDED2 Monthly Expenses\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:[(monthlyExpensesTotal/totalExpenses*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'#1a1a1a',borderRadius:'4px',overflow:'hidden',marginBottom:'0.25rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(monthlyExpensesTotal/totalExpenses*100,\"%\"),background:'#4ade80'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(monthlyExpensesTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:\"\\uD83D\\uDCC8 Investments\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:[(investmentTotal/totalExpenses*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'#1a1a1a',borderRadius:'4px',overflow:'hidden',marginBottom:'0.25rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(investmentTotal/totalExpenses*100,\"%\"),background:'#4ade80'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(investmentTotal)})]}),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'2px solid #2d2d2d',paddingTop:'0.75rem',marginTop:'0.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontWeight:700,fontSize:'1.1rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80'},children:fmt(totalExpenses)})]})})]})}),/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCC5 This Month\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[hasThirdPaycheck&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'linear-gradient(135deg, #4ade80 0%, #22c55e 100%)',borderRadius:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',marginBottom:'0.25rem'},children:\"\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:700,color:'#000'},children:\"Bonus Paycheck Month!\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#1a1a1a',marginTop:'0.25rem'},children:jorgePaychecks.length===3&&anseliPaychecks.length===3?'Both getting 3 paychecks this month':jorgePaychecks.length===3?'Jorge gets 3 paychecks this month':'Anseli gets 3 paychecks this month'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',background:'#0a0a0a',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:600,marginBottom:'0.25rem'},children:\"Bills Due 1st - 15th\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',color:'#999'},children:[period1Bills.length,\" bills\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#4ade80'},children:fmt(period1Total)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',background:'#0a0a0a',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:600,marginBottom:'0.25rem'},children:\"Bills Due 16th - 31st\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',color:'#999'},children:[period2Bills.length,\" bills\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#4ade80'},children:fmt(period2Total)})]})]})})]})]});}function Monthly(_ref2){let{data,reload}=_ref2;const[date,setDate]=useState(new Date());const[periods,setPeriods]=useState([]);// Store checks by month+period key: { \"2026-1-1\": { billId: true }, \"2026-1-2\": { billId: true } }\nconst[paidBillsByPeriod,setPaidBillsByPeriod]=useState({});useEffect(()=>{loadMonth();// Load saved checkboxes from localStorage\nconst saved=localStorage.getItem('monthlyBillChecks');if(saved){try{setPaidBillsByPeriod(JSON.parse(saved));}catch(e){console.error('Error loading saved checks:',e);}}},[date,data]);// Get the current period key (e.g., \"2026-1-1\" for Jan 2026, period 1)\nconst getPeriodKey=(year,month,period)=>\"\".concat(year,\"-\").concat(month,\"-\").concat(period);// Get checks for a specific period\nconst getChecksForPeriod=(year,month,period)=>{const key=getPeriodKey(year,month,period);return paidBillsByPeriod[key]||{};};// Toggle a bill's paid status for a specific period\nconst togglePaid=(billId,year,month,period)=>{const key=getPeriodKey(year,month,period);const periodChecks=paidBillsByPeriod[key]||{};const newPeriodChecks=_objectSpread(_objectSpread({},periodChecks),{},{[billId]:!periodChecks[billId]});const newAllChecks=_objectSpread(_objectSpread({},paidBillsByPeriod),{},{[key]:newPeriodChecks});setPaidBillsByPeriod(newAllChecks);// Save to localStorage\nlocalStorage.setItem('monthlyBillChecks',JSON.stringify(newAllChecks));};const getPayPeriods=(y,m)=>{const days=new Date(y,m,0).getDate();const monthName=new Date(y,m-1).toLocaleDateString('en-US',{month:'long'});return[{p:1,s:new Date(y,m-1,1),e:new Date(y,m-1,15),l:\"\".concat(monthName,\" 1-15\")},{p:2,s:new Date(y,m-1,16),e:new Date(y,m-1,days),l:\"\".concat(monthName,\" 16-\").concat(days)}];};const calcPaychecks=(start,end,nextPay,amount)=>{const checks=[];if(!nextPay)return checks;const payDate=new Date(nextPay+'T00:00:00');// Ensure proper date parsing\nconst startDate=new Date(start);const endDate=new Date(end);// Calculate how many 14-day periods from nextPay to start\nconst daysDiff=Math.floor((startDate-payDate)/(1000*60*60*24));const periodsPassed=Math.max(0,Math.floor(daysDiff/14));// Start from the first paycheck on or after the start date\nlet currentPay=new Date(payDate);currentPay.setDate(currentPay.getDate()+periodsPassed*14);// If we're still before the start, add one more period\nif(currentPay<startDate){currentPay.setDate(currentPay.getDate()+14);}// Collect all paychecks within the period (max 10 to prevent infinite loops)\nlet iterations=0;while(currentPay<=endDate&&iterations<10){checks.push({date:currentPay.toLocaleDateString('en-US',{month:'short',day:'numeric'}),amount:+amount});currentPay=new Date(currentPay);currentPay.setDate(currentPay.getDate()+14);iterations++;}return checks;};const calcIncome=(period,sources)=>{const jorge=sources.find(s=>s.person==='Jorge')||{};const anseli=sources.find(s=>s.person==='Anseli')||{};const jChecks=calcPaychecks(period.s,period.e,jorge.next_pay_date,jorge.amount);const aChecks=calcPaychecks(period.s,period.e,anseli.next_pay_date,anseli.amount);const jTotal=jChecks.reduce((sum,c)=>sum+c.amount,0);const aTotal=aChecks.reduce((sum,c)=>sum+c.amount,0);return{jTotal,aTotal,total:jTotal+aTotal,jChecks,aChecks};};const assignBills=(bills,period)=>bills.filter(b=>period.p===1?b.due_date<=14:b.due_date>=15);const calcTransfer=(income,allBills)=>{const total=allBills.reduce((s,b)=>s+ +(b.amount||0),0);const leftover=income.total-total;return{total,leftover};};const loadMonth=()=>{const y=date.getFullYear();const m=date.getMonth()+1;const ps=getPayPeriods(y,m);setPeriods(ps.map(p=>{const income=calcIncome(p,data.income);// Get bills from bills table\nconst regularBills=assignBills(data.bills,p);// Get credit cards from Debt page (all credit cards due each period)\nconst creditCards=(data.cards||[]).map(c=>({id:\"card-\".concat(c.id),name:c.name,amount:c.min_payment,category:'Credit Card',due_date:c.due_date}));// Get loans from Debt page\nconst loans=(data.loans||[]).map(l=>({id:\"loan-\".concat(l.id),name:l.name,amount:l.monthly_payment,category:'Credit Card',due_date:l.due_date}));// Filter credit cards and loans by period AND exclude $0 amounts\nconst periodCreditCards=[...creditCards,...loans].filter(c=>(p.p===1?c.due_date<=14:c.due_date>=15)&&c.amount>0);// Categorize regular bills - exclude $0 amounts\nconst rentBills=regularBills.filter(b=>b.category==='Rent'&&b.default_amount>0).map(b=>_objectSpread(_objectSpread({},b),{},{amount:b.default_amount,category:'Rent'}));const monthlyBills=regularBills.filter(b=>['Utility','Personal'].includes(b.category)&&b.name!=='Fundrise'&&b.default_amount>0).map(b=>_objectSpread(_objectSpread({},b),{},{amount:b.default_amount,category:'Monthly'}));const investmentBills=regularBills.filter(b=>(b.category==='Investment'||b.name==='Fundrise')&&b.default_amount>0).map(b=>_objectSpread(_objectSpread({},b),{},{amount:b.default_amount,category:'Investment'}));const otherBills=regularBills.filter(b=>!['Credit Card','Loan','Rent','Utility','Personal','Investment'].includes(b.category)&&b.name!=='Fundrise'&&b.default_amount>0).map(b=>_objectSpread(_objectSpread({},b),{},{amount:b.default_amount,category:'Other'}));// Combine all bills in order: Credit Cards, Rent, Monthly, Investments, Other\nconst allBills=[...periodCreditCards,...rentBills,...monthlyBills,...investmentBills,...otherBills];const transfer=calcTransfer(income,allBills);return _objectSpread(_objectSpread({},p),{},{income,allBills,creditCards:periodCreditCards,rentBills,monthlyBills,investmentBills,otherBills,transfer,year:y,month:m});}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:date.toLocaleDateString('en-US',{month:'long',year:'numeric'})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDate(new Date(date.setMonth(date.getMonth()-1))),style:{padding:'0.5rem 0.75rem',background:'#4ade80',color:'#000',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:600,fontSize:'0.9rem'},children:\"\\u2190 Prev\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDate(new Date()),style:{padding:'0.5rem 0.75rem',background:'#4ade80',color:'#000',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:600,fontSize:'0.9rem'},children:\"Today\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDate(new Date(date.setMonth(date.getMonth()+1))),style:{padding:'0.5rem 0.75rem',background:'#4ade80',color:'#000',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:600,fontSize:'0.9rem'},children:\"Next \\u2192\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'2rem'},children:periods.map(p=>{// Get the checks for this specific period\nconst periodChecks=getChecksForPeriod(p.year,p.month,p.p);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:p.l}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem',padding:'0.75rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread(_objectSpread({},s.h3),{},{margin:0}),children:\"INCOME\"}),(p.income.jChecks.length===3||p.income.aChecks.length===3)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#4ade80',fontWeight:600},children:\"\\uD83C\\uDF89 Bonus Month!\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Jorge:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem',color:'#999'},children:[\"(\",p.income.jChecks.length,\" \",p.income.jChecks.length===1?'paycheck':'paychecks',\")\"]})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600},children:fmt(p.income.jTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Anseli:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem',color:'#999'},children:[\"(\",p.income.aChecks.length,\" \",p.income.aChecks.length===1?'paycheck':'paychecks',\")\"]})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600},children:fmt(p.income.aTotal)})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:s.h3,children:[\"BILLS DUE (\",p.allBills.length,\")\"]}),p.creditCards.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[p.creditCards.map(b=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.4rem 0.5rem',marginBottom:'0.25rem',opacity:periodChecks[b.id]?0.5:1,textDecoration:periodChecks[b.id]?'line-through':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flex:1},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:periodChecks[b.id]||false,onChange:()=>togglePaid(b.id,p.year,p.month,p.p),style:{width:'16px',height:'16px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:b.name})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600,fontSize:'0.9rem'},children:fmt(b.amount)})]},b.id)),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #2d2d2d',marginTop:'0.5rem',marginBottom:'0.5rem'}})]}),p.rentBills.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[p.rentBills.map(b=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.4rem 0.5rem',marginBottom:'0.25rem',opacity:periodChecks[b.id]?0.5:1,textDecoration:periodChecks[b.id]?'line-through':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flex:1},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:periodChecks[b.id]||false,onChange:()=>togglePaid(b.id,p.year,p.month,p.p),style:{width:'16px',height:'16px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:b.name})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600,fontSize:'0.9rem'},children:b.amount?fmt(b.amount):'â€”'})]},b.id)),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #2d2d2d',marginTop:'0.5rem',marginBottom:'0.5rem'}})]}),p.monthlyBills.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[p.monthlyBills.map(b=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.4rem 0.5rem',marginBottom:'0.25rem',opacity:periodChecks[b.id]?0.5:1,textDecoration:periodChecks[b.id]?'line-through':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flex:1},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:periodChecks[b.id]||false,onChange:()=>togglePaid(b.id,p.year,p.month,p.p),style:{width:'16px',height:'16px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:b.name})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600,fontSize:'0.9rem'},children:b.amount?fmt(b.amount):'â€”'})]},b.id)),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #2d2d2d',marginTop:'0.5rem',marginBottom:'0.5rem'}})]}),p.investmentBills.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[p.investmentBills.map(b=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.4rem 0.5rem',marginBottom:'0.25rem',opacity:periodChecks[b.id]?0.5:1,textDecoration:periodChecks[b.id]?'line-through':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flex:1},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:periodChecks[b.id]||false,onChange:()=>togglePaid(b.id,p.year,p.month,p.p),style:{width:'16px',height:'16px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:b.name})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600,fontSize:'0.9rem'},children:b.amount?fmt(b.amount):'â€”'})]},b.id)),p.otherBills&&p.otherBills.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #2d2d2d',marginTop:'0.5rem',marginBottom:'0.5rem'}})]}),p.otherBills&&p.otherBills.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:p.otherBills.map(b=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.4rem 0.5rem',marginBottom:'0.25rem',opacity:periodChecks[b.id]?0.5:1,textDecoration:periodChecks[b.id]?'line-through':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flex:1},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:periodChecks[b.id]||false,onChange:()=>togglePaid(b.id,p.year,p.month,p.p),style:{width:'16px',height:'16px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:b.name})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#4ade80',fontWeight:600,fontSize:'0.9rem'},children:b.amount?fmt(b.amount):'â€”'})]},b.id))}),p.allBills.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#999',textAlign:'center',padding:'1rem',fontSize:'0.9rem'},children:\"No bills due this period\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:'2px solid #4ade80',paddingTop:'1rem',marginTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Bills:\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:fmt(p.transfer.total)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Income:\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(p.income.total)})]}),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'2px solid #2d2d2d',paddingTop:'0.5rem',marginTop:'0.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontWeight:700},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Money Leftover:\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:p.transfer.leftover>=0?'#4ade80':'#ef4444',fontSize:'1.1rem'},children:fmt(p.transfer.leftover)})]})})]})]},p.p);})})]});}function Bills(_ref3){let{data,reload}=_ref3;const[expanded,setExpanded]=useState({});const[editing,setEditing]=useState(null);const[editForm,setEditForm]=useState({});const[paidBills,setPaidBills]=useState({});const toggle=cat=>setExpanded(_objectSpread(_objectSpread({},expanded),{},{[cat]:!expanded[cat]}));const togglePaid=billId=>setPaidBills(_objectSpread(_objectSpread({},paidBills),{},{[billId]:!paidBills[billId]}));const categories={'Credit Card':{icon:'ðŸ’³',label:'Credit Cards',bills:data.bills.filter(b=>b.category==='Credit Card'||b.category==='Loan')},'Rent':{icon:'ðŸ ',label:'Rent',bills:data.bills.filter(b=>b.category==='Rent')},'Monthly':{icon:'ðŸ›’',label:'Monthly Expenses',bills:data.bills.filter(b=>['Utility','Personal'].includes(b.category)&&b.name!=='Fundrise')},'Investment':{icon:'ðŸ“ˆ',label:'Investments',bills:data.bills.filter(b=>b.category==='Investment'||b.name==='Fundrise')}};// Split bills into 1st (1-14) and 15th (15-31) periods\nconst splitBillsByPeriod=bills=>{const first=bills.filter(b=>b.due_date<=14);const fifteenth=bills.filter(b=>b.due_date>=15);return{first,fifteenth};};const startEdit=bill=>{setEditing(bill.id);setEditForm({id:bill.id,name:bill.name||'',default_amount:bill.default_amount||'',due_date:bill.due_date||1,paid_by:bill.paid_by||'Anseli',payment_method:bill.payment_method||'',varies:bill.varies||false});};const saveEdit=async()=>{try{const updates={name:editForm.name,default_amount:+editForm.default_amount||null,due_date:+editForm.due_date,paid_by:editForm.paid_by,payment_method:editForm.payment_method};await supabase.from('bills').update(updates).eq('id',editing);setEditing(null);setEditForm({});reload();}catch(error){console.error('Error updating bill:',error);}};const cancelEdit=()=>{setEditing(null);setEditForm({});};const deleteBill=async(id,name)=>{if(window.confirm(\"Delete \\\"\".concat(name,\"\\\"?\"))){await supabase.from('bills').delete().eq('id',id);reload();}};const addBill=async category=>{const name=prompt('Bill name:');if(!name)return;const amount=prompt('Amount (leave empty if varies):');const paymentMethod=category==='Monthly'?prompt('Payment method (AMEX, Anseli Checking, etc.):'):null;await supabase.from('bills').insert([{name,default_amount:amount?+amount:null,due_date:1,category:category==='Monthly'?'Personal':category,paid_by:'Anseli',payment_method:paymentMethod,varies:!amount,active:true}]);reload();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:\"Bills Management\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[(()=>{const totalBalance=data.cards.reduce((sum,c)=>sum+ +c.balance,0);const totalLimit=data.cards.reduce((sum,c)=>sum+(+c.credit_limit||0),0);const utilization=totalLimit>0?totalBalance/totalLimit*100:0;const utilizationColor=utilization<30?'#4ade80':utilization<70?'#fbbf24':'#ef4444';return/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCB3 Credit Utilization\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Total Balance\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#ef4444'},children:fmt(totalBalance)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Total Limit\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700},children:totalLimit>0?fmt(totalLimit):'â€”'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Utilization\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:utilizationColor},children:totalLimit>0?\"\".concat(utilization.toFixed(1),\"%\"):'â€”'})]})]}),totalLimit>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#999',marginBottom:'0.25rem'},children:\"Credit Used\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',background:'#1a1a1a',borderRadius:'6px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(Math.min(utilization,100),\"%\"),background:utilizationColor,transition:'width 0.3s ease'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#666',marginTop:'0.25rem'},children:[fmt(totalBalance),\" of \",fmt(totalLimit)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#999',marginBottom:'0.25rem'},children:\"Total Credit Available\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',background:'#1a1a1a',borderRadius:'6px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:'100%',background:'linear-gradient(90deg, #4ade80, #22c55e)',transition:'width 0.3s ease'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#666',marginTop:'0.25rem'},children:[fmt(totalLimit-totalBalance),\" remaining\"]})]})]}),totalLimit===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#1a1a1a',borderRadius:'6px',textAlign:'center',color:'#999'},children:\"Add credit limits on the Debt page to track utilization\"})]})});})(),(()=>{const creditCardTotal=data.cards.filter(c=>c.min_payment>0).reduce((sum,c)=>sum+ +c.min_payment,0)+data.loans.filter(l=>l.monthly_payment>0).reduce((sum,l)=>sum+ +l.monthly_payment,0);const rentTotal=data.bills.filter(b=>b.category==='Rent').reduce((sum,b)=>sum+(b.default_amount||0),0);const monthlyTotal=data.bills.filter(b=>['Utility','Personal'].includes(b.category)&&b.name!=='Fundrise').reduce((sum,b)=>sum+(b.default_amount||0),0);const investmentTotal=data.bills.filter(b=>b.category==='Investment'||b.name==='Fundrise').reduce((sum,b)=>sum+(b.default_amount||0),0);const grandTotal=creditCardTotal+rentTotal+monthlyTotal+investmentTotal;return/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCB0 Monthly Overview\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'2rem',fontWeight:700,color:'#4ade80',marginBottom:'1.5rem',textAlign:'center'},children:[fmt(grandTotal),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',fontWeight:400,marginTop:'0.25rem'},children:\"Total Monthly Bills\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'0.5rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#999'},children:\"\\uD83D\\uDCB3 Credit Cards\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:fmt(creditCardTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'0.5rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#999'},children:\"\\uD83C\\uDFE0 Rent\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:fmt(rentTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'0.5rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#999'},children:\"\\uD83D\\uDED2 Monthly Expenses\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:fmt(monthlyTotal)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'0.5rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#999'},children:\"\\uD83D\\uDCC8 Investments\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:fmt(investmentTotal)})]})]})]})});})()]}),Object.entries(categories).map(_ref4=>{let[key,{icon,label,bills}]=_ref4;// For Credit Cards, calculate total from Debt page data (only non-zero)\nconst total=key==='Credit Card'?data.cards.filter(c=>c.min_payment>0).reduce((sum,c)=>sum+ +c.min_payment,0)+data.loans.filter(l=>l.monthly_payment>0).reduce((sum,l)=>sum+ +l.monthly_payment,0):bills.reduce((sum,b)=>sum+(b.default_amount||0),0);const itemCount=key==='Credit Card'?data.cards.filter(c=>c.min_payment>0).length+data.loans.filter(l=>l.monthly_payment>0).length:bills.length;const isExpanded=expanded[key];return/*#__PURE__*/_jsxs(\"div\",{style:s.expCard,children:[/*#__PURE__*/_jsxs(\"div\",{style:s.expHeader,onClick:()=>toggle(key),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem'},children:icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',fontWeight:600},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#999'},children:[itemCount,\" \",itemCount===1?'item':'items',\" \\u2022 \",fmt(total),\"/month\"]})]})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem',color:'#4ade80'},children:isExpanded?'âˆ’':'+'})]}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{style:s.expBody,children:key==='Credit Card'?/*#__PURE__*//* Credit Cards - Simple List */_jsx(\"div\",{style:{padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:[data.cards.filter(card=>card.min_payment>0).map(card=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.75rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500},children:card.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(card.min_payment)})]},card.id)),data.loans.filter(loan=>loan.monthly_payment>0).map(loan=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.75rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500},children:loan.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'#4ade80'},children:fmt(loan.monthly_payment)})]},loan.id))]})}):/*#__PURE__*//* Rent, Monthly, Investments - Table Format like Debt Page */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{style:s.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Pay Period\"}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Paid By\"}),key==='Monthly'&&/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bills.map(bill=>{const isEditing=editing===bill.id;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{value:editForm.name,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{name:e.target.value})),style:s.editInput}):bill.name}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{fontWeight:600}),children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:editForm.default_amount,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{default_amount:e.target.value})),style:s.editInput}):bill.default_amount?fmt(bill.default_amount):'â€”'}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"select\",{value:editForm.due_date<=14?'1st':'15th',onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{due_date:e.target.value==='1st'?1:15})),style:s.editInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1st\",children:\"1st\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15th\",children:\"15th\"})]}):bill.due_date<=14?'1st':'15th'}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"select\",{value:editForm.paid_by,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{paid_by:e.target.value})),style:s.editInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Jorge\",children:\"Jorge\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anseli\",children:\"Anseli\"})]}):/*#__PURE__*/_jsx(Bdg,{g:bill.paid_by==='Anseli',children:bill.paid_by})}),key==='Monthly'&&/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"select\",{value:editForm.payment_method||'',onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{payment_method:e.target.value})),style:s.editInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AMEX\",children:\"AMEX\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Jorge Visa\",children:\"Jorge Visa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anseli Visa\",children:\"Anseli Visa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Jorge Checking\",children:\"Jorge Checking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anseli Checking\",children:\"Anseli Checking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anseli Bank Account\",children:\"Anseli Bank Account\"})]}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.85rem',color:'#999'},children:bill.payment_method||'â€”'})}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Btn,{sm:true,onClick:saveEdit,children:\"Save\"}),/*#__PURE__*/_jsx(Btn,{sm:true,sec:true,onClick:cancelEdit,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteBill(editForm.id,editForm.name),style:_objectSpread(_objectSpread({},s.iconBtn),{},{color:'#ef4444'}),title:\"Delete\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(bill),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"})})]},bill.id);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderTop:'1px solid #2d2d2d'},children:/*#__PURE__*/_jsxs(Btn,{onClick:()=>addBill(key),children:[\"+ Add \",key==='Rent'?'Rent':label==='Monthly Expenses'?'Expense':'Investment']})})]})})]},key);}),/*#__PURE__*/_jsx(BudgetPlanning,{data:data,reload:reload})]});}function BudgetPlanning(_ref5){let{data,reload}=_ref5;const[expanded,setExpanded]=useState(false);const[editing,setEditing]=useState(null);const[adding,setAdding]=useState(false);const[form,setForm]=useState({title:'',content:''});const[newNote,setNewNote]=useState({title:'',content:''});const[saving,setSaving]=useState(false);const notes=data.notes||[];const startEdit=note=>{setEditing(note.id);setForm({title:note.title,content:note.content});};const cancelEdit=()=>{setEditing(null);setForm({title:'',content:''});};const saveEdit=async note=>{if(!form.title.trim()){alert('Please enter a title');return;}setSaving(true);await supabase.from('budget_notes').update({title:form.title,content:form.content,updated_at:new Date().toISOString()}).eq('id',note.id);setEditing(null);setSaving(false);reload();};const deleteNote=async(id,title)=>{if(!window.confirm(\"Delete note \\\"\".concat(title,\"\\\"?\")))return;await supabase.from('budget_notes').delete().eq('id',id);reload();};const addNote=async()=>{if(!newNote.title.trim()){alert('Please enter a title');return;}await supabase.from('budget_notes').insert({title:newNote.title,content:newNote.content});setAdding(false);setNewNote({title:'',content:''});reload();};const formatTimestamp=timestamp=>{const date=new Date(timestamp);return date.toLocaleString('en-US',{month:'short',day:'numeric',year:'numeric',hour:'numeric',minute:'2-digit',hour12:true});};return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1a1a1a',border:'1px solid #2d2d2d',borderRadius:'12px',overflow:'hidden',marginTop:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setExpanded(!expanded),style:{padding:'1.5rem',cursor:'pointer',display:'flex',justifyContent:'space-between',alignItems:'center',borderBottom:expanded?'1px solid #2d2d2d':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem'},children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:600,marginBottom:'0.25rem'},children:\"Budget Planning\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#999',margin:0},children:[notes.length,\" notes\"]})]})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem',transition:'transform 0.2s',transform:expanded?'rotate(180deg)':'rotate(0)'},children:\"\\u25BC\"})]}),expanded&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1.5rem'},children:/*#__PURE__*/_jsx(Btn,{onClick:()=>setAdding(!adding),children:adding?'Cancel':'+ Add Note'})}),adding&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0a0a0a',border:'1px solid #2d2d2d',borderRadius:'8px',padding:'1.5rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newNote.title,onChange:e=>setNewNote(_objectSpread(_objectSpread({},newNote),{},{title:e.target.value})),style:s.input,placeholder:\"Budget review, savings goals, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newNote.content,onChange:e=>setNewNote(_objectSpread(_objectSpread({},newNote),{},{content:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{minHeight:'120px',resize:'vertical',fontFamily:'inherit'}),placeholder:\"Add your budget planning notes here...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Btn,{onClick:addNote,children:\"Save Note\"}),/*#__PURE__*/_jsx(Btn,{sec:true,onClick:()=>{setAdding(false);setNewNote({title:'',content:''});},children:\"Cancel\"})]})]}),notes.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#999'},children:\"No budget planning notes yet. Click \\\"Add Note\\\" to get started.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:notes.map(note=>/*#__PURE__*/_jsx(\"div\",{style:{background:'#0a0a0a',border:'1px solid #2d2d2d',borderRadius:'8px',padding:'1.5rem'},children:editing===note.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.title,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{title:e.target.value})),style:s.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.content,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{content:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{minHeight:'120px',resize:'vertical',fontFamily:'inherit'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Btn,{sm:true,onClick:()=>saveEdit(note),disabled:saving,children:saving?'Saving...':'Save'}),/*#__PURE__*/_jsx(Btn,{sm:true,sec:true,onClick:cancelEdit,children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.1rem',fontWeight:600,marginBottom:'0.25rem'},children:note.title}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.85rem',color:'#999',margin:0},children:[note.updated_at!==note.created_at&&'Updated ',formatTimestamp(note.updated_at||note.created_at)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(note),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteNote(note.id,note.title),style:_objectSpread(_objectSpread({},s.iconBtn),{},{color:'#ef4444'}),title:\"Delete\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]}),note.content&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#e0e0e0',lineHeight:'1.6',margin:0,whiteSpace:'pre-wrap',wordWrap:'break-word'},children:note.content})]})},note.id))})]})]});}function Subscriptions(_ref6){let{data,reload}=_ref6;const[editing,setEditing]=useState(null);const[form,setForm]=useState({});const[adding,setAdding]=useState(false);const[newSub,setNewSub]=useState({name:'',amount:'',due_date:'',frequency:'Monthly'});const[filter,setFilter]=useState('All');const[saving,setSaving]=useState(false);const subscriptions=data.subscriptions||[];// Calculate totals by frequency\nconst monthlyTotal=subscriptions.filter(s=>s.frequency==='Monthly').reduce((sum,s)=>sum+ +s.amount,0);const quarterlyTotal=subscriptions.filter(s=>s.frequency==='Quarterly').reduce((sum,s)=>sum+ +s.amount,0);const sixMonthsTotal=subscriptions.filter(s=>s.frequency==='6 Months').reduce((sum,s)=>sum+ +s.amount,0);const yearlyTotal=subscriptions.filter(s=>s.frequency==='Yearly').reduce((sum,s)=>sum+ +s.amount,0);// Calculate annual cost (convert all to yearly)\nconst annualCost=monthlyTotal*12+quarterlyTotal*4+sixMonthsTotal*2+yearlyTotal;const monthlyAverage=annualCost/12;// Filter and sort subscriptions by due date\nconst filtered=(filter==='All'?subscriptions:subscriptions.filter(s=>s.frequency===filter)).sort((a,b)=>new Date(a.due_date)-new Date(b.due_date));const startEdit=sub=>{setEditing(sub.id);setForm(_objectSpread({},sub));};const cancelEdit=()=>{setEditing(null);setForm({});};const save=async sub=>{setSaving(true);await supabase.from('subscriptions').update({name:form.name,amount:+form.amount,due_date:form.due_date,frequency:form.frequency,updated_at:new Date().toISOString()}).eq('id',sub.id);setEditing(null);setSaving(false);reload();};const deleteSub=async id=>{if(!window.confirm('Delete this subscription?'))return;await supabase.from('subscriptions').update({active:false}).eq('id',id);reload();};const addNew=async()=>{if(!newSub.name||!newSub.amount||!newSub.due_date){alert('Please fill in all fields');return;}await supabase.from('subscriptions').insert({name:newSub.name,amount:+newSub.amount,due_date:newSub.due_date,frequency:newSub.frequency,active:true});setAdding(false);setNewSub({name:'',amount:'',due_date:'',frequency:'Monthly'});reload();};const formatDate=dateStr=>{const date=new Date(dateStr+'T00:00:00');return date.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:\"Subscriptions\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#999',marginBottom:'0.5rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"\\uD83D\\uDCB0 Total Annual Subscription Cost\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3.5rem',fontWeight:700,color:'#4ade80',marginBottom:'1rem'},children:fmt(annualCost)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',justifyContent:'center',flexWrap:'wrap',color:'#999',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',fontSize:'0.85rem'},children:\"Monthly Average\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',fontWeight:600,color:'#4ade80'},children:fmt(monthlyAverage)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',fontSize:'0.85rem'},children:\"Total Subscriptions\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',fontWeight:600,color:'#4ade80'},children:subscriptions.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',paddingTop:'1.5rem',borderTop:'1px solid #2d2d2d',display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(150px, 1fr))',gap:'1rem',fontSize:'0.85rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',marginBottom:'0.25rem'},children:\"Monthly \\xD7 12\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#e0e0e0',fontWeight:500},children:[fmt(monthlyTotal),\" \\xD7 12 = \",fmt(monthlyTotal*12)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',marginBottom:'0.25rem'},children:\"Quarterly \\xD7 4\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#e0e0e0',fontWeight:500},children:[fmt(quarterlyTotal),\" \\xD7 4 = \",fmt(quarterlyTotal*4)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',marginBottom:'0.25rem'},children:\"6 Months \\xD7 2\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#e0e0e0',fontWeight:500},children:[fmt(sixMonthsTotal),\" \\xD7 2 = \",fmt(sixMonthsTotal*2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',marginBottom:'0.25rem'},children:\"Yearly \\xD7 1\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#e0e0e0',fontWeight:500},children:[fmt(yearlyTotal),\" \\xD7 1 = \",fmt(yearlyTotal)]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:s.grid,children:[/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCB0 Monthly\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.5rem',fontWeight:700,color:'#4ade80',marginBottom:'0.5rem'},children:fmt(monthlyTotal)}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#999',fontSize:'0.9rem'},children:[subscriptions.filter(s=>s.frequency==='Monthly').length,\" subscriptions\"]})]})}),/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCC5 Quarterly\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.5rem',fontWeight:700,color:'#4ade80',marginBottom:'0.5rem'},children:fmt(quarterlyTotal)}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#999',fontSize:'0.9rem'},children:[subscriptions.filter(s=>s.frequency==='Quarterly').length,\" subscriptions\"]})]})}),/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDCC6 6 Months\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.5rem',fontWeight:700,color:'#4ade80',marginBottom:'0.5rem'},children:fmt(sixMonthsTotal)}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#999',fontSize:'0.9rem'},children:[subscriptions.filter(s=>s.frequency==='6 Months').length,\" subscriptions\"]})]})}),/*#__PURE__*/_jsx(Card,{t:\"\\uD83D\\uDDD3\\uFE0F Yearly\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.5rem',fontWeight:700,color:'#4ade80',marginBottom:'0.5rem'},children:fmt(yearlyTotal)}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#999',fontSize:'0.9rem'},children:[subscriptions.filter(s=>s.frequency==='Yearly').length,\" subscriptions\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginBottom:'1.5rem',flexWrap:'wrap',alignItems:'center'},children:[['All','Monthly','Quarterly','6 Months','Yearly'].map(f=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter(f),style:{padding:'0.5rem 1rem',background:filter===f?'#4ade80':'#1a1a1a',color:filter===f?'#000':'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:filter===f?600:400,fontSize:'0.9rem'},children:f},f)),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'auto'},children:/*#__PURE__*/_jsx(Btn,{onClick:()=>setAdding(!adding),children:adding?'Cancel':'+ Add Subscription'})})]}),adding&&/*#__PURE__*/_jsxs(Card,{t:\"Add New Subscription\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSub.name,onChange:e=>setNewSub(_objectSpread(_objectSpread({},newSub),{},{name:e.target.value})),style:s.input,placeholder:\"Netflix, Spotify, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newSub.amount,onChange:e=>setNewSub(_objectSpread(_objectSpread({},newSub),{},{amount:e.target.value})),style:s.input,placeholder:\"15.99\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newSub.due_date,onChange:e=>setNewSub(_objectSpread(_objectSpread({},newSub),{},{due_date:e.target.value})),onClick:e=>e.target.showPicker&&e.target.showPicker(),style:_objectSpread(_objectSpread({},s.input),{},{cursor:'pointer'})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.9rem',fontWeight:500},children:\"Frequency\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSub.frequency,onChange:e=>setNewSub(_objectSpread(_objectSpread({},newSub),{},{frequency:e.target.value})),style:s.input,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quarterly\",children:\"Quarterly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6 Months\",children:\"6 Months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Yearly\",children:\"Yearly\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Btn,{onClick:addNew,children:\"Add Subscription\"}),/*#__PURE__*/_jsx(Btn,{sec:true,onClick:()=>{setAdding(false);setNewSub({name:'',amount:'',due_date:'',frequency:'Monthly'});},children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(Card,{t:\"\".concat(filter,\" Subscriptions (\").concat(filtered.length,\")\"),children:filtered.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#999'},children:[\"No \",filter!=='All'?filter.toLowerCase():'',\" subscriptions yet. Click \\\"Add Subscription\\\" to get started.\"]}):/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'2px solid #2d2d2d'},children:[/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{textAlign:'left'}),children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{textAlign:'center'}),children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{textAlign:'center'}),children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{textAlign:'center'}),children:\"Frequency\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{textAlign:'center'}),children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.map(sub=>/*#__PURE__*/_jsx(\"tr\",{style:{borderBottom:'1px solid #2d2d2d'},children:editing===sub.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:s.td,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{width:'100%'})})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.due_date,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{due_date:e.target.value})),onClick:e=>e.target.showPicker&&e.target.showPicker(),style:_objectSpread(_objectSpread({},s.input),{},{width:'150px',textAlign:'center',cursor:'pointer'})})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:form.amount,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{amount:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{width:'100px',textAlign:'center'})})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsxs(\"select\",{value:form.frequency,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{frequency:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{width:'120px'}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quarterly\",children:\"Quarterly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6 Months\",children:\"6 Months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Yearly\",children:\"Yearly\"})]})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Btn,{sm:true,onClick:()=>save(sub),disabled:saving,children:saving?'...':'âœ“'}),/*#__PURE__*/_jsx(Btn,{sm:true,sec:true,onClick:cancelEdit,children:\"\\u2715\"})]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{fontWeight:500}),children:sub.name}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:formatDate(sub.due_date)}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center',fontWeight:600,color:'#4ade80'}),children:fmt(sub.amount)}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',background:sub.frequency==='Monthly'?'#1a4d2e':sub.frequency==='Quarterly'?'#1a3a4d':sub.frequency==='6 Months'?'#4d1a3a':'#4d3a1a',borderRadius:'12px',fontSize:'0.85rem'},children:sub.frequency})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{textAlign:'center'}),children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(sub),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteSub(sub.id),style:s.iconBtn,title:\"Delete\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})})]})},sub.id))})]})})})]});}function Debt(_ref7){let{data,reload}=_ref7;const[editingCard,setEditingCard]=useState(null);const[editingLoan,setEditingLoan]=useState(null);const[cardForm,setCardForm]=useState({});const[loanForm,setLoanForm]=useState({});const[sortBy,setSortBy]=useState('name');const[sortDir,setSortDir]=useState('asc');const cardDebt=data.cards.reduce((s,c)=>s+ +c.balance,0);const loanDebt=data.loans.reduce((s,l)=>s+ +l.balance,0);// Calculate debt by owner\nconst jorgeCardDebt=data.cards.filter(c=>c.owned_by==='Jorge').reduce((s,c)=>s+ +c.balance,0);const anseliCardDebt=data.cards.filter(c=>c.owned_by==='Anseli').reduce((s,c)=>s+ +c.balance,0);const jorgeTotalDebt=jorgeCardDebt+loanDebt;// Assuming loans are shared or Jorge's\nconst anseliTotalDebt=anseliCardDebt;const startEditCard=card=>{setEditingCard(card.id);setCardForm({id:card.id,name:card.name||'',balance:card.balance||0,credit_limit:card.credit_limit||'',min_payment:card.min_payment||0,apr:card.apr||0,owned_by:card.owned_by||'Jorge',due_date:card.due_date||1});};const saveCard=async()=>{try{await supabase.from('credit_cards').update({name:cardForm.name,balance:+cardForm.balance,credit_limit:+cardForm.credit_limit||null,min_payment:+cardForm.min_payment,apr:+cardForm.apr,owned_by:cardForm.owned_by,due_date:+cardForm.due_date}).eq('id',editingCard);setEditingCard(null);setCardForm({});reload();}catch(error){console.error('Error updating card:',error);}};const cancelEditCard=()=>{setEditingCard(null);setCardForm({});};const deleteCard=async(id,name)=>{if(window.confirm(\"Delete \\\"\".concat(name,\"\\\"?\"))){await supabase.from('credit_cards').delete().eq('id',id);reload();}};const addCard=async()=>{const name=prompt('Card name:');if(!name)return;const balance=prompt('Balance:')||0;const minPayment=prompt('Minimum payment:')||0;const apr=prompt('APR (%):')||0;const dueDate=prompt('Due date (1-31):')||1;await supabase.from('credit_cards').insert([{name,balance:+balance,min_payment:+minPayment,apr:+apr,due_date:+dueDate,owned_by:'Jorge',active:true}]);reload();};const startEditLoan=loan=>{setEditingLoan(loan.id);setLoanForm({id:loan.id,name:loan.name||'',balance:loan.balance||0,monthly_payment:loan.monthly_payment||0,apr:loan.apr||0});};const saveLoan=async()=>{try{await supabase.from('loans').update({name:loanForm.name,balance:+loanForm.balance,monthly_payment:+loanForm.monthly_payment,apr:+loanForm.apr}).eq('id',editingLoan);setEditingLoan(null);setLoanForm({});reload();}catch(error){console.error('Error updating loan:',error);}};const cancelEditLoan=()=>{setEditingLoan(null);setLoanForm({});};const deleteLoan=async(id,name)=>{if(window.confirm(\"Delete \\\"\".concat(name,\"\\\"?\"))){await supabase.from('loans').delete().eq('id',id);reload();}};const addLoan=async()=>{const name=prompt('Loan name:');if(!name)return;const balance=prompt('Balance:')||0;const payment=prompt('Monthly payment:')||0;const apr=prompt('APR (%):')||0;await supabase.from('loans').insert([{name,balance:+balance,monthly_payment:+payment,apr:+apr,active:true}]);reload();};const handleSort=field=>{if(sortBy===field){setSortDir(sortDir==='asc'?'desc':'asc');}else{setSortBy(field);setSortDir('asc');}};const sortedCards=[...data.cards].sort((a,b)=>{let aVal,bVal;if(sortBy==='balance'){aVal=+a.balance;bVal=+b.balance;}else if(sortBy==='due_date'){aVal=+a.due_date;bVal=+b.due_date;}else if(sortBy==='owner'){aVal=a.owned_by;bVal=b.owned_by;}else{aVal=a.name;bVal=b.name;}if(aVal<bVal)return sortDir==='asc'?-1:1;if(aVal>bVal)return sortDir==='asc'?1:-1;return 0;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:\"Debt Overview\"}),/*#__PURE__*/_jsxs(\"div\",{style:s.grid,children:[/*#__PURE__*/_jsx(StatCard,{l:\"Total Debt\",v:fmt(cardDebt+loanDebt)}),/*#__PURE__*/_jsx(StatCard,{l:\"Credit Cards\",v:fmt(cardDebt)}),/*#__PURE__*/_jsx(StatCard,{l:\"Loans\",v:fmt(loanDebt)}),/*#__PURE__*/_jsx(StatCard,{l:\"Jorge's Debt\",v:fmt(jorgeTotalDebt)}),/*#__PURE__*/_jsx(StatCard,{l:\"Anseli's Debt\",v:fmt(anseliTotalDebt)})]}),/*#__PURE__*/_jsxs(Card,{t:\"Credit Cards\",children:[/*#__PURE__*/_jsxs(\"table\",{style:s.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Card\"}),/*#__PURE__*/_jsxs(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{cursor:'pointer'}),onClick:()=>handleSort('balance'),children:[\"Balance \",sortBy==='balance'&&(sortDir==='asc'?'â†‘':'â†“')]}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Credit Limit\"}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Min Payment\"}),/*#__PURE__*/_jsxs(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{cursor:'pointer'}),onClick:()=>handleSort('due_date'),children:[\"Due \",sortBy==='due_date'&&(sortDir==='asc'?'â†‘':'â†“')]}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"APR\"}),/*#__PURE__*/_jsxs(\"th\",{style:_objectSpread(_objectSpread({},s.th),{},{cursor:'pointer'}),onClick:()=>handleSort('owner'),children:[\"Owner \",sortBy==='owner'&&(sortDir==='asc'?'â†‘':'â†“')]}),/*#__PURE__*/_jsx(\"th\",{style:s.th,children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedCards.map(c=>{const isEditing=editingCard===c.id;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{value:cardForm.name,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{name:e.target.value})),style:s.editInput}):c.name}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{fontWeight:600}),children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:cardForm.balance,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{balance:e.target.value})),style:s.editInput}):fmt(c.balance)}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:cardForm.credit_limit||'',onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{credit_limit:e.target.value})),style:s.editInput,placeholder:\"Limit\"}):c.credit_limit?fmt(c.credit_limit):'â€”'}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:cardForm.min_payment,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{min_payment:e.target.value})),style:s.editInput}):fmt(c.min_payment)}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"31\",value:cardForm.due_date,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{due_date:e.target.value})),style:s.editInput}):\"\".concat(c.due_date).concat(c.due_date===1?'st':c.due_date===2?'nd':c.due_date===3?'rd':'th')}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:cardForm.apr,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{apr:e.target.value})),style:s.editInput}):\"\".concat(c.apr,\"%\")}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"select\",{value:cardForm.owned_by,onChange:e=>setCardForm(_objectSpread(_objectSpread({},cardForm),{},{owned_by:e.target.value})),style:s.editInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Jorge\",children:\"Jorge\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anseli\",children:\"Anseli\"})]}):/*#__PURE__*/_jsx(Bdg,{g:c.owned_by==='Anseli',children:c.owned_by})}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Btn,{sm:true,onClick:saveCard,children:\"Save\"}),/*#__PURE__*/_jsx(Btn,{sm:true,sec:true,onClick:cancelEditCard,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCard(c.id,c.name),style:_objectSpread(_objectSpread({},s.iconBtn),{},{color:'#ef4444'}),title:\"Delete\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditCard(c),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"})})]},c.id);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderTop:'1px solid #2d2d2d'},children:/*#__PURE__*/_jsx(Btn,{onClick:addCard,children:\"+ Add Credit Card\"})})]}),/*#__PURE__*/_jsxs(Card,{t:\"Loans\",children:[/*#__PURE__*/_jsxs(\"table\",{style:s.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:['Loan','Balance','Payment','APR','Actions'].map(h=>/*#__PURE__*/_jsx(\"th\",{style:s.th,children:h},h))})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.loans.map(l=>{const isEditing=editingLoan===l.id;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{value:loanForm.name,onChange:e=>setLoanForm(_objectSpread(_objectSpread({},loanForm),{},{name:e.target.value})),style:s.editInput}):l.name}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},s.td),{},{fontWeight:600}),children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:loanForm.balance,onChange:e=>setLoanForm(_objectSpread(_objectSpread({},loanForm),{},{balance:e.target.value})),style:s.editInput}):fmt(l.balance)}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:loanForm.monthly_payment,onChange:e=>setLoanForm(_objectSpread(_objectSpread({},loanForm),{},{monthly_payment:e.target.value})),style:s.editInput}):fmt(l.monthly_payment)}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:loanForm.apr,onChange:e=>setLoanForm(_objectSpread(_objectSpread({},loanForm),{},{apr:e.target.value})),style:s.editInput}):\"\".concat(l.apr,\"%\")}),/*#__PURE__*/_jsx(\"td\",{style:s.td,children:isEditing?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Btn,{sm:true,onClick:saveLoan,children:\"Save\"}),/*#__PURE__*/_jsx(Btn,{sm:true,sec:true,onClick:cancelEditLoan,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteLoan(l.id,l.name),style:_objectSpread(_objectSpread({},s.iconBtn),{},{color:'#ef4444'}),title:\"Delete\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditLoan(l),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"})})]},l.id);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderTop:'1px solid #2d2d2d'},children:/*#__PURE__*/_jsx(Btn,{onClick:addLoan,children:\"+ Add Loan\"})})]})]});}function Settings(_ref8){let{data,reload}=_ref8;const[jorge,setJorge]=useState(null);const[anseli,setAnseli]=useState(null);const[editingJorge,setEditingJorge]=useState(false);const[editingAnseli,setEditingAnseli]=useState(false);const[jorgeForm,setJorgeForm]=useState({});const[anseliForm,setAnseliForm]=useState({});const[saving,setSaving]=useState(false);useEffect(()=>{const j=data.income.find(s=>s.person==='Jorge');const a=data.income.find(s=>s.person==='Anseli');setJorge(j);setAnseli(a);// Ensure dates are in YYYY-MM-DD format for date inputs\nsetJorgeForm(_objectSpread(_objectSpread({},j),{},{next_pay_date:j!==null&&j!==void 0&&j.next_pay_date?j.next_pay_date:''}));setAnseliForm(_objectSpread(_objectSpread({},a),{},{next_pay_date:a!==null&&a!==void 0&&a.next_pay_date?a.next_pay_date:''}));},[data]);const saveJorge=async()=>{setSaving(true);await supabase.from('income_sources').update({amount:+jorgeForm.amount,next_pay_date:jorgeForm.next_pay_date}).eq('id',jorge.id);setEditingJorge(false);setSaving(false);reload();};const saveAnseli=async()=>{setSaving(true);await supabase.from('income_sources').update({amount:+anseliForm.amount,next_pay_date:anseliForm.next_pay_date}).eq('id',anseli.id);setEditingAnseli(false);setSaving(false);reload();};if(!jorge||!anseli)return/*#__PURE__*/_jsx(\"div\",{style:s.loading,children:\"Loading...\"});const totalBiweekly=+jorge.amount+ +anseli.amount;const totalMonthly=totalBiweekly*2;const jorgeMonthly=+jorge.amount*2;const anseliMonthly=+anseli.amount*2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:s.h1,children:\"Settings\"}),/*#__PURE__*/_jsxs(Card,{t:\"Combined Income\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#0a0a0a',borderRadius:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Bi-weekly Total\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.8rem',fontWeight:700,color:'#4ade80'},children:[\"$\",totalBiweekly.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#0a0a0a',borderRadius:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999',marginBottom:'0.5rem'},children:\"Monthly Total (approx)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.8rem',fontWeight:700,color:'#4ade80'},children:[\"$\",Math.round(totalMonthly).toLocaleString()]})]})]}),/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread(_objectSpread({},s.h3),{},{marginBottom:'1rem'}),children:\"Individual Monthly Income\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#0a0a0a',borderRadius:'8px',border:'1px solid #4ade80'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#4ade80',marginBottom:'0.5rem',fontWeight:600},children:\"Jorge\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#fff'},children:[\"$\",Math.round(jorgeMonthly).toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"per month\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#0a0a0a',borderRadius:'8px',border:'1px solid #4ade80'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#4ade80',marginBottom:'0.5rem',fontWeight:600},children:\"Anseli\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:700,color:'#fff'},children:[\"$\",Math.round(anseliMonthly).toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"per month\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:_objectSpread(_objectSpread({},s.h2),{},{margin:0,color:'#4ade80'}),children:\"Jorge\"}),!editingJorge&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingJorge(true),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.4rem',fontSize:'0.9rem',fontWeight:500},children:\"Paycheck Amount\"}),editingJorge?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:jorgeForm.amount,onChange:e=>setJorgeForm(_objectSpread(_objectSpread({},jorgeForm),{},{amount:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{padding:'0.5rem'})}):/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.3rem',fontWeight:600,color:'#4ade80'},children:[\"$\",(+jorge.amount).toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"Every 2 weeks\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.4rem',fontSize:'0.9rem',fontWeight:500},children:\"Next Pay Date\"}),editingJorge?/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:jorgeForm.next_pay_date||'',onChange:e=>setJorgeForm(_objectSpread(_objectSpread({},jorgeForm),{},{next_pay_date:e.target.value})),onClick:e=>e.target.showPicker&&e.target.showPicker(),style:_objectSpread(_objectSpread({},s.input),{},{padding:'0.5rem',cursor:'pointer'})}):/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.1rem',fontWeight:600},children:jorge.next_pay_date?new Date(jorge.next_pay_date+'T00:00:00').toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}):'Not set'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"Bi-weekly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',padding:'0.75rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999'},children:\"Monthly (approx)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.2rem',fontWeight:700,color:'#4ade80'},children:[\"$\",Math.round(+jorge.amount*2).toLocaleString()]})]}),editingJorge&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',display:'flex',gap:'0.5rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Btn,{onClick:saveJorge,disabled:saving,children:saving?'Saving...':'Save Changes'}),/*#__PURE__*/_jsx(Btn,{sec:true,onClick:()=>{setEditingJorge(false);setJorgeForm(jorge);},children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:_objectSpread(_objectSpread({},s.h2),{},{margin:0,color:'#4ade80'}),children:\"Anseli\"}),!editingAnseli&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingAnseli(true),style:s.iconBtn,title:\"Edit\",children:\"\\u270F\\uFE0F\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.4rem',fontSize:'0.9rem',fontWeight:500},children:\"Paycheck Amount\"}),editingAnseli?/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:anseliForm.amount,onChange:e=>setAnseliForm(_objectSpread(_objectSpread({},anseliForm),{},{amount:e.target.value})),style:_objectSpread(_objectSpread({},s.input),{},{padding:'0.5rem'})}):/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.3rem',fontWeight:600,color:'#4ade80'},children:[\"$\",(+anseli.amount).toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"Every 2 weeks\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.4rem',fontSize:'0.9rem',fontWeight:500},children:\"Next Pay Date\"}),editingAnseli?/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:anseliForm.next_pay_date||'',onChange:e=>setAnseliForm(_objectSpread(_objectSpread({},anseliForm),{},{next_pay_date:e.target.value})),onClick:e=>e.target.showPicker&&e.target.showPicker(),style:_objectSpread(_objectSpread({},s.input),{},{padding:'0.5rem',cursor:'pointer'})}):/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.1rem',fontWeight:600},children:anseli.next_pay_date?new Date(anseli.next_pay_date+'T00:00:00').toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}):'Not set'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999',marginTop:'0.25rem'},children:\"Bi-weekly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',padding:'0.75rem',background:'#0a0a0a',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#999'},children:\"Monthly (approx)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.2rem',fontWeight:700,color:'#4ade80'},children:[\"$\",Math.round(+anseli.amount*2).toLocaleString()]})]}),editingAnseli&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',display:'flex',gap:'0.5rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Btn,{onClick:saveAnseli,disabled:saving,children:saving?'Saving...':'Save Changes'}),/*#__PURE__*/_jsx(Btn,{sec:true,onClick:()=>{setEditingAnseli(false);setAnseliForm(anseli);},children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(BackupExport,{data:data})]});}function BackupExport(_ref9){var _data$income,_data$bills,_data$cards,_data$loans,_data$subscriptions,_data$notes;let{data}=_ref9;const[expanded,setExpanded]=useState(false);const[lastExport,setLastExport]=useState(null);// Load last export date from localStorage\nuseState(()=>{const saved=localStorage.getItem('lastExportDate');if(saved)setLastExport(new Date(saved));},[]);const exportAllJSON=()=>{const exportData={version:'1.0',exportDate:new Date().toISOString(),data:{income:data.income,bills:data.bills,cards:data.cards,loans:data.loans,subscriptions:data.subscriptions,notes:data.notes}};const blob=new Blob([JSON.stringify(exportData,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"medina-budget-backup-\".concat(new Date().toISOString().split('T')[0],\".json\");a.click();URL.revokeObjectURL(url);const now=new Date();setLastExport(now);localStorage.setItem('lastExportDate',now.toISOString());};const exportCSV=(tableName,tableData)=>{if(!tableData||tableData.length===0){alert(\"No data in \".concat(tableName,\" to export\"));return;}// Get all unique keys from the data\nconst keys=Object.keys(tableData[0]);// Create CSV header\nconst csv=[keys.join(','),...tableData.map(row=>keys.map(key=>{const val=row[key];// Handle values with commas, quotes, or newlines\nif(val===null||val===undefined)return'';const str=String(val);if(str.includes(',')||str.includes('\"')||str.includes('\\n')){return\"\\\"\".concat(str.replace(/\"/g,'\"\"'),\"\\\"\");}return str;}).join(','))].join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(tableName.toLowerCase(),\"-\").concat(new Date().toISOString().split('T')[0],\".csv\");a.click();URL.revokeObjectURL(url);};const importJSON=async()=>{const input=document.createElement('input');input.type='file';input.accept='.json';input.onchange=async e=>{const file=e.target.files[0];if(!file)return;try{var _importData$data$inco,_importData$data$bill,_importData$data$card,_importData$data$loan,_importData$data$subs,_importData$data$note;const text=await file.text();const importData=JSON.parse(text);if(!importData.version||!importData.data){alert('Invalid backup file format');return;}const confirmed=window.confirm(\"\\u26A0\\uFE0F WARNING: This will replace all current data!\\n\\n\"+\"Backup contains:\\n\"+\"- \".concat(((_importData$data$inco=importData.data.income)===null||_importData$data$inco===void 0?void 0:_importData$data$inco.length)||0,\" income sources\\n\")+\"- \".concat(((_importData$data$bill=importData.data.bills)===null||_importData$data$bill===void 0?void 0:_importData$data$bill.length)||0,\" bills\\n\")+\"- \".concat(((_importData$data$card=importData.data.cards)===null||_importData$data$card===void 0?void 0:_importData$data$card.length)||0,\" credit cards\\n\")+\"- \".concat(((_importData$data$loan=importData.data.loans)===null||_importData$data$loan===void 0?void 0:_importData$data$loan.length)||0,\" loans\\n\")+\"- \".concat(((_importData$data$subs=importData.data.subscriptions)===null||_importData$data$subs===void 0?void 0:_importData$data$subs.length)||0,\" subscriptions\\n\")+\"- \".concat(((_importData$data$note=importData.data.notes)===null||_importData$data$note===void 0?void 0:_importData$data$note.length)||0,\" notes\\n\\n\")+\"Continue with import?\");if(!confirmed)return;// Import data to Supabase\nconst importPromises=[];// Delete existing data and import new (for each table)\nif(importData.data.income){importPromises.push(supabase.from('income_sources').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('income_sources').insert(importData.data.income.map(i=>_objectSpread(_objectSpread({},i),{},{id:undefined})))));}if(importData.data.bills){importPromises.push(supabase.from('bills').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('bills').insert(importData.data.bills.map(b=>_objectSpread(_objectSpread({},b),{},{id:undefined})))));}if(importData.data.cards){importPromises.push(supabase.from('credit_cards').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('credit_cards').insert(importData.data.cards.map(c=>_objectSpread(_objectSpread({},c),{},{id:undefined})))));}if(importData.data.loans){importPromises.push(supabase.from('loans').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('loans').insert(importData.data.loans.map(l=>_objectSpread(_objectSpread({},l),{},{id:undefined})))));}if(importData.data.subscriptions){importPromises.push(supabase.from('subscriptions').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('subscriptions').insert(importData.data.subscriptions.map(s=>_objectSpread(_objectSpread({},s),{},{id:undefined})))));}if(importData.data.notes){importPromises.push(supabase.from('budget_notes').delete().neq('id','00000000-0000-0000-0000-000000000000').then(()=>supabase.from('budget_notes').insert(importData.data.notes.map(n=>_objectSpread(_objectSpread({},n),{},{id:undefined})))));}await Promise.all(importPromises);alert('âœ… Import successful! Page will reload...');window.location.reload();}catch(error){console.error('Import error:',error);alert('âŒ Import failed: '+error.message);}};input.click();};const daysSinceExport=lastExport?Math.floor((new Date()-lastExport)/(1000*60*60*24)):null;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1a1a1a',border:'1px solid #2d2d2d',borderRadius:'12px',overflow:'hidden',marginTop:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setExpanded(!expanded),style:{padding:'1.5rem',cursor:'pointer',display:'flex',justifyContent:'space-between',alignItems:'center',borderBottom:expanded?'1px solid #2d2d2d':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem'},children:\"\\uD83D\\uDCBE\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:600,marginBottom:'0.25rem'},children:\"Backup & Export\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#999',margin:0},children:[lastExport?daysSinceExport===0?'Last backup: Today':daysSinceExport===1?'Last backup: Yesterday':\"Last backup: \".concat(daysSinceExport,\" days ago\"):'No backups yet',daysSinceExport>30&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444',marginLeft:'0.5rem'},children:\"\\u26A0\\uFE0F Backup recommended\"})]})]})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem',transition:'transform 0.2s',transform:expanded?'rotate(180deg)':'rotate(0)'},children:\"\\u25BC\"})]}),expanded&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.1rem',fontWeight:600,marginBottom:'1rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE6\"}),\" Full Backup (JSON)\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#999',fontSize:'0.9rem',marginBottom:'1rem'},children:\"Export all data as JSON for complete backup. Includes all bills, debt, subscriptions, and notes.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Btn,{onClick:exportAllJSON,children:\"\\uD83D\\uDCE5 Export All Data\"}),/*#__PURE__*/_jsx(Btn,{sec:true,onClick:importJSON,children:\"\\uD83D\\uDCE4 Import Backup\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.1rem',fontWeight:600,marginBottom:'1rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCCA\"}),\" Export to CSV\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#999',fontSize:'0.9rem',marginBottom:'1rem'},children:\"Export individual tables as CSV for use in Excel or Google Sheets.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Income',data.income),children:[\"\\uD83D\\uDCB5 Income (\",((_data$income=data.income)===null||_data$income===void 0?void 0:_data$income.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Bills',data.bills),children:[\"\\uD83D\\uDCC4 Bills (\",((_data$bills=data.bills)===null||_data$bills===void 0?void 0:_data$bills.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Credit-Cards',data.cards),children:[\"\\uD83D\\uDCB3 Cards (\",((_data$cards=data.cards)===null||_data$cards===void 0?void 0:_data$cards.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Loans',data.loans),children:[\"\\uD83C\\uDFE6 Loans (\",((_data$loans=data.loans)===null||_data$loans===void 0?void 0:_data$loans.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Subscriptions',data.subscriptions),children:[\"\\uD83D\\uDCC5 Subscriptions (\",((_data$subscriptions=data.subscriptions)===null||_data$subscriptions===void 0?void 0:_data$subscriptions.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Btn,{sec:true,onClick:()=>exportCSV('Notes',data.notes),children:[\"\\uD83D\\uDCDD Notes (\",((_data$notes=data.notes)===null||_data$notes===void 0?void 0:_data$notes.length)||0,\")\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1.5rem',padding:'1rem',background:'#0a0a0a',border:'1px solid #2d2d2d',borderRadius:'8px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#999',lineHeight:'1.6'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4ade80'},children:\"\\uD83D\\uDCA1 Backup Tips:\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{marginTop:'0.5rem',marginBottom:0,paddingLeft:'1.5rem'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Export full backup monthly for safety\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Store backups in cloud storage (Google Drive, Dropbox)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"CSV exports are great for analysis in Excel\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Import will replace ALL current data - use with caution!\"})]})]})})]})]});}// Components\nconst StatCard=_ref0=>{let{l,v,g,sub}=_ref0;return/*#__PURE__*/_jsxs(\"div\",{style:s.stat,children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#999',fontSize:'0.9rem',marginBottom:'0.5rem'},children:l}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:700,color:g?'#4ade80':'#fff'},children:v}),sub&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#999',fontSize:'0.85rem',marginTop:'0.5rem'},children:sub})]});};const Card=_ref1=>{let{t,children}=_ref1;return/*#__PURE__*/_jsxs(\"div\",{style:s.card,children:[t&&/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:t}),children]});};const Btn=_ref10=>{let{children,onClick,sm,sec,danger,disabled,type}=_ref10;return/*#__PURE__*/_jsx(\"button\",{type:type,onClick:onClick,disabled:disabled,style:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},s.btn),sm&&{padding:'0.4rem 0.8rem',fontSize:'0.85rem'}),danger&&{background:'#ef4444'}),sec&&{background:'#2d2d2d'}),disabled&&{opacity:0.5,cursor:'not-allowed'}),children:children});};const Inp=_ref11=>{let{l}=_ref11,props=_objectWithoutProperties(_ref11,_excluded);return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[l&&/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontWeight:500},children:l}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},props),{},{style:s.input}))]});};const Bdg=_ref12=>{let{children,g}=_ref12;return/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',padding:'0.25rem 0.75rem',borderRadius:'12px',fontSize:'0.85rem',fontWeight:500,background:g?'rgba(74,222,128,0.2)':'rgba(59,130,246,0.2)',color:g?'#4ade80':'#3b82f6'},children:children});};// Styles\nconst s={app:{minHeight:'100vh',background:'#0a0a0a',color:'#e0e0e0',fontFamily:'system-ui, -apple-system, sans-serif'},nav:{background:'#1a1a1a',borderBottom:'2px solid #2d2d2d',padding:'1rem 1.5rem',position:'sticky',top:0,zIndex:100,display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'1rem'},title:{fontSize:'1.5rem',fontWeight:700,color:'#4ade80',margin:0},links:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},navBtn:{background:'transparent',color:'#e0e0e0',border:'none',padding:'0.5rem 1rem',borderRadius:'6px',cursor:'pointer',fontWeight:500,fontSize:'0.9rem'},navBtnActive:{background:'#2d2d2d',color:'#4ade80'},main:{maxWidth:'1400px',margin:'0 auto',padding:'2rem 1.5rem'},loading:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'50vh',fontSize:'1.2rem',color:'#999'},h1:{fontSize:'2rem',fontWeight:700,marginBottom:'2rem'},h2:{fontSize:'1.25rem',fontWeight:600,marginBottom:'1rem'},h3:{fontSize:'0.9rem',color:'#999',marginBottom:'0.75rem',textTransform:'uppercase',letterSpacing:'0.05em',fontWeight:600},grid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},stat:{background:'linear-gradient(135deg, #1a1a1a, #0a0a0a)',border:'1px solid #2d2d2d',borderRadius:'12px',padding:'1.5rem'},card:{background:'#1a1a1a',border:'1px solid #2d2d2d',borderRadius:'12px',padding:'1.5rem',marginBottom:'1.5rem'},expCard:{background:'#1a1a1a',border:'1px solid #2d2d2d',borderRadius:'12px',marginBottom:'1.5rem',overflow:'hidden'},expHeader:{padding:'1.5rem',display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'pointer',transition:'background 0.2s',':hover':{background:'#0a0a0a'}},expBody:{borderTop:'1px solid #2d2d2d'},table:{width:'100%',borderCollapse:'collapse'},th:{padding:'1rem',textAlign:'left',borderBottom:'1px solid #2d2d2d',fontWeight:600,color:'#999',textTransform:'uppercase',fontSize:'0.85rem'},td:{padding:'1rem',borderBottom:'1px solid #2d2d2d'},btn:{padding:'0.625rem 1.25rem',borderRadius:'6px',border:'none',fontWeight:500,cursor:'pointer',fontSize:'0.9rem',background:'#4ade80',color:'#0a0a0a'},iconBtn:{background:'transparent',border:'none',cursor:'pointer',fontSize:'1.2rem',padding:'0.25rem 0.5rem',borderRadius:'4px',transition:'background 0.2s',':hover':{background:'#2d2d2d'}},input:{width:'100%',padding:'0.75rem',background:'#0a0a0a',border:'1px solid #2d2d2d',borderRadius:'6px',color:'#e0e0e0',fontSize:'1rem'},editInput:{width:'100%',padding:'0.5rem',background:'#0a0a0a',border:'1px solid #4ade80',borderRadius:'4px',color:'#e0e0e0',fontSize:'0.9rem'}};","map":{"version":3,"names":["React","useState","useEffect","createClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","supabase","fmt","n","concat","Math","round","toLocaleString","MedinaBudget","page","setPage","data","setData","income","bills","cards","loans","loading","setLoading","loadData","inc","subs","notes","Promise","all","from","select","eq","order","ascending","subscriptions","style","s","app","children","nav","title","links","map","p","onClick","toLowerCase","_objectSpread","navBtn","navBtnActive","main","Dashboard","reload","Monthly","Bills","Subscriptions","Debt","Settings","_ref","totalIncome","reduce","i","amount","totalDebt","c","balance","l","creditCardTotal","filter","min_payment","sum","monthly_payment","rentTotal","b","category","default_amount","monthlyExpensesTotal","includes","name","investmentTotal","totalExpenses","monthlyLeftover","totalBalance","totalLimit","credit_limit","utilization","utilizationColor","allBillsWithPayments","id","due_date","now","Date","currentYear","getFullYear","currentMonth","getMonth","daysInMonth","getDate","currentMonthStart","currentMonthEnd","jorge","find","person","anseli","calcCurrentMonthPaychecks","nextPay","checks","payDate","daysDiff","floor","periodsPassed","max","currentPay","setDate","iterations","push","date","jorgePaychecks","next_pay_date","anseliPaychecks","hasThirdPaycheck","length","period1Bills","sort","a","period2Bills","period1Total","period2Total","h1","grid","StatCard","v","g","sub","toFixed","display","gridTemplateColumns","gap","marginBottom","Card","t","padding","fontSize","color","fontWeight","height","background","borderRadius","overflow","width","min","transition","marginTop","textAlign","flexDirection","justifyContent","borderTop","paddingTop","alignItems","_ref2","periods","setPeriods","paidBillsByPeriod","setPaidBillsByPeriod","loadMonth","saved","localStorage","getItem","JSON","parse","e","console","error","getPeriodKey","year","month","period","getChecksForPeriod","key","togglePaid","billId","periodChecks","newPeriodChecks","newAllChecks","setItem","stringify","getPayPeriods","y","m","days","monthName","toLocaleDateString","calcPaychecks","start","end","startDate","endDate","day","calcIncome","sources","jChecks","aChecks","jTotal","aTotal","total","assignBills","calcTransfer","allBills","leftover","ps","regularBills","creditCards","periodCreditCards","rentBills","monthlyBills","investmentBills","otherBills","transfer","flexWrap","setMonth","border","cursor","h2","h3","margin","opacity","textDecoration","flex","type","checked","onChange","_ref3","expanded","setExpanded","editing","setEditing","editForm","setEditForm","paidBills","setPaidBills","toggle","cat","categories","icon","label","splitBillsByPeriod","first","fifteenth","startEdit","bill","paid_by","payment_method","varies","saveEdit","updates","update","cancelEdit","deleteBill","window","confirm","delete","addBill","prompt","paymentMethod","insert","active","monthlyTotal","grandTotal","Object","entries","_ref4","itemCount","isExpanded","expCard","expHeader","expBody","card","loan","table","th","isEditing","td","value","target","editInput","step","Bdg","Btn","sm","sec","iconBtn","BudgetPlanning","_ref5","adding","setAdding","form","setForm","content","newNote","setNewNote","saving","setSaving","note","trim","alert","updated_at","toISOString","deleteNote","addNote","formatTimestamp","timestamp","hour","minute","hour12","borderBottom","transform","input","placeholder","minHeight","resize","fontFamily","disabled","created_at","lineHeight","whiteSpace","wordWrap","_ref6","newSub","setNewSub","frequency","setFilter","quarterlyTotal","sixMonthsTotal","yearlyTotal","annualCost","monthlyAverage","filtered","save","deleteSub","addNew","formatDate","dateStr","textTransform","letterSpacing","f","marginLeft","showPicker","overflowX","borderCollapse","_ref7","editingCard","setEditingCard","editingLoan","setEditingLoan","cardForm","setCardForm","loanForm","setLoanForm","sortBy","setSortBy","sortDir","setSortDir","cardDebt","loanDebt","jorgeCardDebt","owned_by","anseliCardDebt","jorgeTotalDebt","anseliTotalDebt","startEditCard","apr","saveCard","cancelEditCard","deleteCard","addCard","minPayment","dueDate","startEditLoan","saveLoan","cancelEditLoan","deleteLoan","addLoan","payment","handleSort","field","sortedCards","aVal","bVal","h","_ref8","setJorge","setAnseli","editingJorge","setEditingJorge","editingAnseli","setEditingAnseli","jorgeForm","setJorgeForm","anseliForm","setAnseliForm","j","saveJorge","saveAnseli","totalBiweekly","totalMonthly","jorgeMonthly","anseliMonthly","BackupExport","_ref9","_data$income","_data$bills","_data$cards","_data$loans","_data$subscriptions","_data$notes","lastExport","setLastExport","exportAllJSON","exportData","version","exportDate","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","split","click","revokeObjectURL","exportCSV","tableName","tableData","keys","csv","join","row","val","undefined","str","String","replace","importJSON","accept","onchange","file","files","_importData$data$inco","_importData$data$bill","_importData$data$card","_importData$data$loan","_importData$data$subs","_importData$data$note","text","importData","confirmed","importPromises","neq","then","location","message","daysSinceExport","paddingLeft","_ref0","stat","_ref1","_ref10","danger","btn","Inp","_ref11","props","_objectWithoutProperties","_excluded","_ref12","position","top","zIndex","maxWidth"],"sources":["C:/Users/gmedi/Desktop/Finance App/budget-app-complete/budget-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabase = createClient(\n  'https://wgjbslvpvgymdmlucpyh.supabase.co',\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnamJzbHZwdmd5bWRtbHVjcHloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxODc5NzIsImV4cCI6MjA4Mjc2Mzk3Mn0.NKUxsGVOau6NpUaIsU1MgatvpdvQ8uSMHXeeb0UC4JI'\n);\n\nconst fmt = (n) => `$${Math.round(n || 0).toLocaleString()}`;\n\nexport default function MedinaBudget() {\n  const [page, setPage] = useState('dashboard');\n  const [data, setData] = useState({ income: [], bills: [], cards: [], loans: [] });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => { loadData(); }, []);\n\n  const loadData = async () => {\n    const [inc, bills, cards, loans, subs, notes] = await Promise.all([\n      supabase.from('income_sources').select('*'),\n      supabase.from('bills').select('*').eq('active', true),\n      supabase.from('credit_cards').select('*').eq('active', true),\n      supabase.from('loans').select('*').eq('active', true),\n      supabase.from('subscriptions').select('*').eq('active', true).order('frequency', { ascending: true }).order('due_date', { ascending: true }),\n      supabase.from('budget_notes').select('*').order('created_at', { ascending: false })\n    ]);\n    setData({ \n      income: inc.data || [], \n      bills: bills.data || [], \n      cards: cards.data || [], \n      loans: loans.data || [],\n      subscriptions: subs.data || [],\n      notes: notes.data || []\n    });\n    setLoading(false);\n  };\n\n  if (loading) return <div style={s.app}><div style={s.loading}>Loading MEDINA BUDGET...</div></div>;\n\n  return (\n    <div style={s.app}>\n      <nav style={s.nav}>\n        <h1 style={s.title}>ðŸ“Š MEDINA BUDGET</h1>\n        <div style={s.links}>\n          {['Dashboard', 'Monthly', 'Bills', 'Subscriptions', 'Debt', 'Settings'].map(p => (\n            <button key={p} onClick={() => setPage(p.toLowerCase())} \n              style={{ ...s.navBtn, ...(page === p.toLowerCase() && s.navBtnActive) }}>\n              {p}\n            </button>\n          ))}\n        </div>\n      </nav>\n      <main style={s.main}>\n        {page === 'dashboard' && <Dashboard data={data} reload={loadData} />}\n        {page === 'monthly' && <Monthly data={data} reload={loadData} />}\n        {page === 'bills' && <Bills data={data} reload={loadData} />}\n        {page === 'subscriptions' && <Subscriptions data={data} reload={loadData} />}\n        {page === 'debt' && <Debt data={data} reload={loadData} />}\n        {page === 'settings' && <Settings data={data} reload={loadData} />}\n      </main>\n    </div>\n  );\n}\n\nfunction Dashboard({ data }) {\n  const totalIncome = data.income.reduce((s, i) => s + +i.amount, 0) * 2;\n  const totalDebt = data.cards.reduce((s, c) => s + +c.balance, 0) + data.loans.reduce((s, l) => s + +l.balance, 0);\n  \n  // Calculate all monthly expenses (including investments and credit cards from Debt page)\n  const creditCardTotal = data.cards.filter(c => c.min_payment > 0).reduce((sum, c) => sum + +c.min_payment, 0) + \n                          data.loans.filter(l => l.monthly_payment > 0).reduce((sum, l) => sum + +l.monthly_payment, 0);\n  const rentTotal = data.bills.filter(b => b.category === 'Rent').reduce((s, b) => s + (b.default_amount || 0), 0);\n  const monthlyExpensesTotal = data.bills.filter(b => ['Utility', 'Personal'].includes(b.category) && b.name !== 'Fundrise').reduce((s, b) => s + (b.default_amount || 0), 0);\n  const investmentTotal = data.bills.filter(b => b.category === 'Investment' || b.name === 'Fundrise').reduce((s, b) => s + (b.default_amount || 0), 0);\n  \n  const totalExpenses = creditCardTotal + rentTotal + monthlyExpensesTotal + investmentTotal;\n  const monthlyLeftover = totalIncome - totalExpenses;\n  \n  // Credit Utilization\n  const totalBalance = data.cards.reduce((sum, c) => sum + +c.balance, 0);\n  const totalLimit = data.cards.reduce((sum, c) => sum + +(c.credit_limit || 0), 0);\n  const utilization = totalLimit > 0 ? (totalBalance / totalLimit) * 100 : 0;\n  const utilizationColor = utilization < 30 ? '#4ade80' : utilization < 70 ? '#fbbf24' : '#ef4444';\n  \n  // Split bills by period - exclude duplicates (credit cards are in both data.cards and data.bills)\n  const allBillsWithPayments = [\n    ...data.cards.filter(c => c.min_payment > 0).map(c => ({\n      id: `card-${c.id}`,\n      name: c.name,\n      amount: +c.min_payment,\n      due_date: +c.due_date\n    })),\n    ...data.loans.filter(l => l.monthly_payment > 0).map(l => ({\n      id: `loan-${l.id}`,\n      name: l.name,\n      amount: +l.monthly_payment,\n      due_date: +l.due_date\n    })),\n    // Exclude Credit Card and Loan categories from bills to avoid duplicates\n    ...data.bills.filter(b => b.default_amount > 0 && !['Credit Card', 'Loan'].includes(b.category)).map(b => ({\n      id: b.id,\n      name: b.name,\n      amount: +b.default_amount,\n      due_date: +b.due_date\n    }))\n  ];\n  \n  // Calculate current month paycheck counts\n  const now = new Date();\n  const currentYear = now.getFullYear();\n  const currentMonth = now.getMonth() + 1;\n  const daysInMonth = new Date(currentYear, currentMonth, 0).getDate();\n  \n  const currentMonthStart = new Date(currentYear, currentMonth - 1, 1);\n  const currentMonthEnd = new Date(currentYear, currentMonth - 1, daysInMonth);\n  \n  const jorge = data.income.find(s => s.person === 'Jorge') || {};\n  const anseli = data.income.find(s => s.person === 'Anseli') || {};\n  \n  // Calculate paychecks for current month\n  const calcCurrentMonthPaychecks = (nextPay, amount) => {\n    const checks = [];\n    if (!nextPay) return checks;\n    \n    const payDate = new Date(nextPay + 'T00:00:00');\n    const daysDiff = Math.floor((currentMonthStart - payDate) / (1000 * 60 * 60 * 24));\n    const periodsPassed = Math.max(0, Math.floor(daysDiff / 14));\n    \n    let currentPay = new Date(payDate);\n    currentPay.setDate(currentPay.getDate() + (periodsPassed * 14));\n    \n    if (currentPay < currentMonthStart) {\n      currentPay.setDate(currentPay.getDate() + 14);\n    }\n    \n    let iterations = 0;\n    while (currentPay <= currentMonthEnd && iterations < 10) {\n      checks.push({ date: currentPay, amount: +amount });\n      currentPay = new Date(currentPay);\n      currentPay.setDate(currentPay.getDate() + 14);\n      iterations++;\n    }\n    \n    return checks;\n  };\n  \n  const jorgePaychecks = calcCurrentMonthPaychecks(jorge.next_pay_date, jorge.amount);\n  const anseliPaychecks = calcCurrentMonthPaychecks(anseli.next_pay_date, anseli.amount);\n  const hasThirdPaycheck = jorgePaychecks.length === 3 || anseliPaychecks.length === 3;\n  \n  // Filter by period\n  const period1Bills = allBillsWithPayments.filter(b => +b.due_date <= 14).sort((a, b) => a.due_date - b.due_date);\n  const period2Bills = allBillsWithPayments.filter(b => +b.due_date >= 15).sort((a, b) => a.due_date - b.due_date);\n  const period1Total = period1Bills.reduce((sum, b) => sum + +b.amount, 0);\n  const period2Total = period2Bills.reduce((sum, b) => sum + +b.amount, 0);\n  \n  return (\n    <div>\n      <h1 style={s.h1}>Dashboard</h1>\n      \n      <div style={s.grid}>\n        <StatCard l=\"ðŸ’° Monthly Income\" v={fmt(totalIncome)} g />\n        <StatCard \n          l=\"ðŸ’¸ Monthly Leftover\" \n          v={fmt(monthlyLeftover)} \n          g={monthlyLeftover >= 0}\n          sub={monthlyLeftover >= 0 ? 'Positive cash flow' : 'Overspending'}\n        />\n        <StatCard l=\"ðŸ’³ Total Debt\" v={fmt(totalDebt)} />\n        <StatCard \n          l=\"ðŸ“Š Money Flow\" \n          v={`${fmt(totalExpenses)}`}\n          sub={`${((totalExpenses / totalIncome) * 100).toFixed(1)}% of income`}\n        />\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem', marginBottom: '2rem' }}>\n        {/* Credit Utilization Card */}\n        <Card t=\"ðŸ’³ Credit Utilization\">\n          <div style={{ padding: '1rem' }}>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem', marginBottom: '1.5rem' }}>\n              <div>\n                <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Total Balance</div>\n                <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#ef4444' }}>{fmt(totalBalance)}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Total Limit</div>\n                <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>{totalLimit > 0 ? fmt(totalLimit) : 'â€”'}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Utilization</div>\n                <div style={{ fontSize: '1.5rem', fontWeight: 700, color: utilizationColor }}>\n                  {totalLimit > 0 ? `${utilization.toFixed(1)}%` : 'â€”'}\n                </div>\n              </div>\n            </div>\n            {totalLimit > 0 && (\n              <div>\n                {/* Utilization Bar */}\n                <div style={{ marginBottom: '1rem' }}>\n                  <div style={{ fontSize: '0.75rem', color: '#999', marginBottom: '0.25rem' }}>Credit Used</div>\n                  <div style={{ height: '12px', background: '#1a1a1a', borderRadius: '6px', overflow: 'hidden' }}>\n                    <div style={{ \n                      height: '100%', \n                      width: `${Math.min(utilization, 100)}%`, \n                      background: utilizationColor,\n                      transition: 'width 0.3s ease'\n                    }} />\n                  </div>\n                  <div style={{ fontSize: '0.75rem', color: '#666', marginTop: '0.25rem' }}>\n                    {fmt(totalBalance)} of {fmt(totalLimit)}\n                  </div>\n                </div>\n                \n                {/* Total Available Bar */}\n                <div>\n                  <div style={{ fontSize: '0.75rem', color: '#999', marginBottom: '0.25rem' }}>Total Credit Available</div>\n                  <div style={{ height: '12px', background: '#1a1a1a', borderRadius: '6px', overflow: 'hidden' }}>\n                    <div style={{ \n                      height: '100%', \n                      width: '100%', \n                      background: 'linear-gradient(90deg, #4ade80, #22c55e)',\n                      transition: 'width 0.3s ease'\n                    }} />\n                  </div>\n                  <div style={{ fontSize: '0.75rem', color: '#666', marginTop: '0.25rem' }}>\n                    {fmt(totalLimit - totalBalance)} remaining\n                  </div>\n                </div>\n              </div>\n            )}\n            {totalLimit === 0 && (\n              <div style={{ padding: '1rem', background: '#1a1a1a', borderRadius: '6px', textAlign: 'center', color: '#999' }}>\n                Add credit limits on the Debt page\n              </div>\n            )}\n          </div>\n        </Card>\n\n        {/* Enhanced Monthly Breakdown */}\n        <Card t=\"ðŸ’° Monthly Breakdown\">\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n            {/* Credit Cards */}\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>ðŸ’³ Credit Cards</span>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {((creditCardTotal / totalExpenses) * 100).toFixed(1)}%\n                </span>\n              </div>\n              <div style={{ height: '8px', background: '#1a1a1a', borderRadius: '4px', overflow: 'hidden', marginBottom: '0.25rem' }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${(creditCardTotal / totalExpenses) * 100}%`, \n                  background: '#4ade80'\n                }} />\n              </div>\n              <div style={{ fontWeight: 600, color: '#4ade80' }}>{fmt(creditCardTotal)}</div>\n            </div>\n\n            {/* Rent */}\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>ðŸ  Rent</span>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {((rentTotal / totalExpenses) * 100).toFixed(1)}%\n                </span>\n              </div>\n              <div style={{ height: '8px', background: '#1a1a1a', borderRadius: '4px', overflow: 'hidden', marginBottom: '0.25rem' }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${(rentTotal / totalExpenses) * 100}%`, \n                  background: '#4ade80'\n                }} />\n              </div>\n              <div style={{ fontWeight: 600, color: '#4ade80' }}>{fmt(rentTotal)}</div>\n            </div>\n\n            {/* Monthly Expenses */}\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>ðŸ›’ Monthly Expenses</span>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {((monthlyExpensesTotal / totalExpenses) * 100).toFixed(1)}%\n                </span>\n              </div>\n              <div style={{ height: '8px', background: '#1a1a1a', borderRadius: '4px', overflow: 'hidden', marginBottom: '0.25rem' }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${(monthlyExpensesTotal / totalExpenses) * 100}%`, \n                  background: '#4ade80'\n                }} />\n              </div>\n              <div style={{ fontWeight: 600, color: '#4ade80' }}>{fmt(monthlyExpensesTotal)}</div>\n            </div>\n\n            {/* Investments */}\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>ðŸ“ˆ Investments</span>\n                <span style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {((investmentTotal / totalExpenses) * 100).toFixed(1)}%\n                </span>\n              </div>\n              <div style={{ height: '8px', background: '#1a1a1a', borderRadius: '4px', overflow: 'hidden', marginBottom: '0.25rem' }}>\n                <div style={{ \n                  height: '100%', \n                  width: `${(investmentTotal / totalExpenses) * 100}%`, \n                  background: '#4ade80'\n                }} />\n              </div>\n              <div style={{ fontWeight: 600, color: '#4ade80' }}>{fmt(investmentTotal)}</div>\n            </div>\n\n            <div style={{ borderTop: '2px solid #2d2d2d', paddingTop: '0.75rem', marginTop: '0.5rem' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', fontWeight: 700, fontSize: '1.1rem' }}>\n                <span>Total</span>\n                <span style={{ color: '#4ade80' }}>{fmt(totalExpenses)}</span>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        {/* This Month Summary */}\n        <Card t=\"ðŸ“… This Month\">\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            {/* 3rd Paycheck Notification */}\n            {hasThirdPaycheck && (\n              <div style={{ \n                padding: '1rem',\n                background: 'linear-gradient(135deg, #4ade80 0%, #22c55e 100%)',\n                borderRadius: '8px',\n                textAlign: 'center'\n              }}>\n                <div style={{ fontSize: '1.5rem', marginBottom: '0.25rem' }}>ðŸŽ‰</div>\n                <div style={{ fontSize: '1rem', fontWeight: 700, color: '#000' }}>Bonus Paycheck Month!</div>\n                <div style={{ fontSize: '0.85rem', color: '#1a1a1a', marginTop: '0.25rem' }}>\n                  {jorgePaychecks.length === 3 && anseliPaychecks.length === 3 ? 'Both getting 3 paychecks this month' :\n                   jorgePaychecks.length === 3 ? 'Jorge gets 3 paychecks this month' :\n                   'Anseli gets 3 paychecks this month'}\n                </div>\n              </div>\n            )}\n\n            {/* Period 1: 1st-15th */}\n            <div style={{ \n              display: 'flex', \n              justifyContent: 'space-between', \n              alignItems: 'center',\n              padding: '1rem',\n              background: '#0a0a0a',\n              borderRadius: '8px'\n            }}>\n              <div>\n                <div style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '0.25rem' }}>Bills Due 1st - 15th</div>\n                <div style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {period1Bills.length} bills\n                </div>\n              </div>\n              <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#4ade80' }}>\n                {fmt(period1Total)}\n              </div>\n            </div>\n\n            {/* Period 2: 16th-31st */}\n            <div style={{ \n              display: 'flex', \n              justifyContent: 'space-between', \n              alignItems: 'center',\n              padding: '1rem',\n              background: '#0a0a0a',\n              borderRadius: '8px'\n            }}>\n              <div>\n                <div style={{ fontSize: '1rem', fontWeight: 600, marginBottom: '0.25rem' }}>Bills Due 16th - 31st</div>\n                <div style={{ fontSize: '0.85rem', color: '#999' }}>\n                  {period2Bills.length} bills\n                </div>\n              </div>\n              <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#4ade80' }}>\n                {fmt(period2Total)}\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\nfunction Monthly({ data, reload }) {\n  const [date, setDate] = useState(new Date());\n  const [periods, setPeriods] = useState([]);\n  // Store checks by month+period key: { \"2026-1-1\": { billId: true }, \"2026-1-2\": { billId: true } }\n  const [paidBillsByPeriod, setPaidBillsByPeriod] = useState({});\n\n  useEffect(() => { \n    loadMonth(); \n    // Load saved checkboxes from localStorage\n    const saved = localStorage.getItem('monthlyBillChecks');\n    if (saved) {\n      try {\n        setPaidBillsByPeriod(JSON.parse(saved));\n      } catch (e) {\n        console.error('Error loading saved checks:', e);\n      }\n    }\n  }, [date, data]);\n\n  // Get the current period key (e.g., \"2026-1-1\" for Jan 2026, period 1)\n  const getPeriodKey = (year, month, period) => `${year}-${month}-${period}`;\n\n  // Get checks for a specific period\n  const getChecksForPeriod = (year, month, period) => {\n    const key = getPeriodKey(year, month, period);\n    return paidBillsByPeriod[key] || {};\n  };\n\n  // Toggle a bill's paid status for a specific period\n  const togglePaid = (billId, year, month, period) => {\n    const key = getPeriodKey(year, month, period);\n    const periodChecks = paidBillsByPeriod[key] || {};\n    const newPeriodChecks = { ...periodChecks, [billId]: !periodChecks[billId] };\n    \n    const newAllChecks = {\n      ...paidBillsByPeriod,\n      [key]: newPeriodChecks\n    };\n    \n    setPaidBillsByPeriod(newAllChecks);\n    // Save to localStorage\n    localStorage.setItem('monthlyBillChecks', JSON.stringify(newAllChecks));\n  };\n\n  const getPayPeriods = (y, m) => {\n    const days = new Date(y, m, 0).getDate();\n    const monthName = new Date(y, m - 1).toLocaleDateString('en-US', { month: 'long' });\n    return [\n      { p: 1, s: new Date(y, m - 1, 1), e: new Date(y, m - 1, 15), l: `${monthName} 1-15` },\n      { p: 2, s: new Date(y, m - 1, 16), e: new Date(y, m - 1, days), l: `${monthName} 16-${days}` }\n    ];\n  };\n\n  const calcPaychecks = (start, end, nextPay, amount) => {\n    const checks = [];\n    if (!nextPay) return checks;\n    \n    const payDate = new Date(nextPay + 'T00:00:00'); // Ensure proper date parsing\n    const startDate = new Date(start);\n    const endDate = new Date(end);\n    \n    // Calculate how many 14-day periods from nextPay to start\n    const daysDiff = Math.floor((startDate - payDate) / (1000 * 60 * 60 * 24));\n    const periodsPassed = Math.max(0, Math.floor(daysDiff / 14));\n    \n    // Start from the first paycheck on or after the start date\n    let currentPay = new Date(payDate);\n    currentPay.setDate(currentPay.getDate() + (periodsPassed * 14));\n    \n    // If we're still before the start, add one more period\n    if (currentPay < startDate) {\n      currentPay.setDate(currentPay.getDate() + 14);\n    }\n    \n    // Collect all paychecks within the period (max 10 to prevent infinite loops)\n    let iterations = 0;\n    while (currentPay <= endDate && iterations < 10) {\n      checks.push({ \n        date: currentPay.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }), \n        amount: +amount \n      });\n      currentPay = new Date(currentPay);\n      currentPay.setDate(currentPay.getDate() + 14);\n      iterations++;\n    }\n    \n    return checks;\n  };\n\n  const calcIncome = (period, sources) => {\n    const jorge = sources.find(s => s.person === 'Jorge') || {};\n    const anseli = sources.find(s => s.person === 'Anseli') || {};\n    const jChecks = calcPaychecks(period.s, period.e, jorge.next_pay_date, jorge.amount);\n    const aChecks = calcPaychecks(period.s, period.e, anseli.next_pay_date, anseli.amount);\n    const jTotal = jChecks.reduce((sum, c) => sum + c.amount, 0);\n    const aTotal = aChecks.reduce((sum, c) => sum + c.amount, 0);\n    return { jTotal, aTotal, total: jTotal + aTotal, jChecks, aChecks };\n  };\n\n  const assignBills = (bills, period) => bills.filter(b => period.p === 1 ? b.due_date <= 14 : b.due_date >= 15);\n\n  const calcTransfer = (income, allBills) => {\n    const total = allBills.reduce((s, b) => s + +(b.amount || 0), 0);\n    const leftover = income.total - total;\n    return { total, leftover };\n  };\n\n  const loadMonth = () => {\n    const y = date.getFullYear();\n    const m = date.getMonth() + 1;\n    const ps = getPayPeriods(y, m);\n\n    setPeriods(ps.map(p => {\n      const income = calcIncome(p, data.income);\n      \n      // Get bills from bills table\n      const regularBills = assignBills(data.bills, p);\n      \n      // Get credit cards from Debt page (all credit cards due each period)\n      const creditCards = (data.cards || []).map(c => ({\n        id: `card-${c.id}`,\n        name: c.name,\n        amount: c.min_payment,\n        category: 'Credit Card',\n        due_date: c.due_date\n      }));\n      \n      // Get loans from Debt page\n      const loans = (data.loans || []).map(l => ({\n        id: `loan-${l.id}`,\n        name: l.name,\n        amount: l.monthly_payment,\n        category: 'Credit Card',\n        due_date: l.due_date\n      }));\n      \n      // Filter credit cards and loans by period AND exclude $0 amounts\n      const periodCreditCards = [...creditCards, ...loans].filter(c => \n        (p.p === 1 ? c.due_date <= 14 : c.due_date >= 15) && c.amount > 0\n      );\n      \n      // Categorize regular bills - exclude $0 amounts\n      const rentBills = regularBills.filter(b => b.category === 'Rent' && b.default_amount > 0).map(b => ({ \n        ...b, \n        amount: b.default_amount,\n        category: 'Rent' \n      }));\n      \n      const monthlyBills = regularBills.filter(b => \n        ['Utility', 'Personal'].includes(b.category) && b.name !== 'Fundrise' && b.default_amount > 0\n      ).map(b => ({ \n        ...b, \n        amount: b.default_amount,\n        category: 'Monthly' \n      }));\n      \n      const investmentBills = regularBills.filter(b => \n        (b.category === 'Investment' || b.name === 'Fundrise') && b.default_amount > 0\n      ).map(b => ({ \n        ...b, \n        amount: b.default_amount,\n        category: 'Investment' \n      }));\n      \n      const otherBills = regularBills.filter(b =>\n        !['Credit Card', 'Loan', 'Rent', 'Utility', 'Personal', 'Investment'].includes(b.category) && \n        b.name !== 'Fundrise' && \n        b.default_amount > 0\n      ).map(b => ({\n        ...b,\n        amount: b.default_amount,\n        category: 'Other'\n      }));\n      \n      // Combine all bills in order: Credit Cards, Rent, Monthly, Investments, Other\n      const allBills = [\n        ...periodCreditCards,\n        ...rentBills,\n        ...monthlyBills,\n        ...investmentBills,\n        ...otherBills\n      ];\n      \n      const transfer = calcTransfer(income, allBills);\n      \n      return { ...p, income, allBills, creditCards: periodCreditCards, rentBills, monthlyBills, investmentBills, otherBills, transfer, year: y, month: m };\n    }));\n  };\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem', flexWrap: 'wrap', gap: '1rem' }}>\n        <h1 style={s.h1}>{date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</h1>\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\n          <button \n            onClick={() => setDate(new Date(date.setMonth(date.getMonth() - 1)))}\n            style={{\n              padding: '0.5rem 0.75rem',\n              background: '#4ade80',\n              color: '#000',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontWeight: 600,\n              fontSize: '0.9rem'\n            }}\n          >\n            â† Prev\n          </button>\n          <button \n            onClick={() => setDate(new Date())}\n            style={{\n              padding: '0.5rem 0.75rem',\n              background: '#4ade80',\n              color: '#000',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontWeight: 600,\n              fontSize: '0.9rem'\n            }}\n          >\n            Today\n          </button>\n          <button \n            onClick={() => setDate(new Date(date.setMonth(date.getMonth() + 1)))}\n            style={{\n              padding: '0.5rem 0.75rem',\n              background: '#4ade80',\n              color: '#000',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontWeight: 600,\n              fontSize: '0.9rem'\n            }}\n          >\n            Next â†’\n          </button>\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '2rem' }}>\n        {periods.map(p => {\n          // Get the checks for this specific period\n          const periodChecks = getChecksForPeriod(p.year, p.month, p.p);\n          \n          return (\n          <Card key={p.p}>\n            <h2 style={s.h2}>{p.l}</h2>\n            \n            <div style={{ marginBottom: '1.5rem', padding: '0.75rem', background: '#0a0a0a', borderRadius: '6px' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem' }}>\n                <h3 style={{ ...s.h3, margin: 0 }}>INCOME</h3>\n                {(p.income.jChecks.length === 3 || p.income.aChecks.length === 3) && (\n                  <span style={{ fontSize: '0.85rem', color: '#4ade80', fontWeight: 600 }}>ðŸŽ‰ Bonus Month!</span>\n                )}\n              </div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                  <span>Jorge:</span>\n                  <span style={{ fontSize: '0.75rem', color: '#999' }}>\n                    ({p.income.jChecks.length} {p.income.jChecks.length === 1 ? 'paycheck' : 'paychecks'})\n                  </span>\n                </div>\n                <span style={{ color: '#4ade80', fontWeight: 600 }}>{fmt(p.income.jTotal)}</span>\n              </div>\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                  <span>Anseli:</span>\n                  <span style={{ fontSize: '0.75rem', color: '#999' }}>\n                    ({p.income.aChecks.length} {p.income.aChecks.length === 1 ? 'paycheck' : 'paychecks'})\n                  </span>\n                </div>\n                <span style={{ color: '#4ade80', fontWeight: 600 }}>{fmt(p.income.aTotal)}</span>\n              </div>\n            </div>\n\n            <div style={{ marginBottom: '1.5rem' }}>\n              <h3 style={s.h3}>BILLS DUE ({p.allBills.length})</h3>\n              \n              {/* Credit Cards */}\n              {p.creditCards.length > 0 && (\n                <>\n                  {p.creditCards.map(b => (\n                    <div key={b.id} style={{ \n                      display: 'flex', \n                      justifyContent: 'space-between', \n                      alignItems: 'center',\n                      padding: '0.4rem 0.5rem',\n                      marginBottom: '0.25rem',\n                      opacity: periodChecks[b.id] ? 0.5 : 1,\n                      textDecoration: periodChecks[b.id] ? 'line-through' : 'none'\n                    }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1 }}>\n                        <input \n                          type=\"checkbox\" \n                          checked={periodChecks[b.id] || false}\n                          onChange={() => togglePaid(b.id, p.year, p.month, p.p)}\n                          style={{ width: '16px', height: '16px', cursor: 'pointer' }}\n                        />\n                        <span style={{ fontSize: '0.9rem' }}>{b.name}</span>\n                      </div>\n                      <span style={{ color: '#4ade80', fontWeight: 600, fontSize: '0.9rem' }}>\n                        {fmt(b.amount)}\n                      </span>\n                    </div>\n                  ))}\n                  <div style={{ borderTop: '1px solid #2d2d2d', marginTop: '0.5rem', marginBottom: '0.5rem' }} />\n                </>\n              )}\n\n              {/* Rent */}\n              {p.rentBills.length > 0 && (\n                <>\n                  {p.rentBills.map(b => (\n                    <div key={b.id} style={{ \n                      display: 'flex', \n                      justifyContent: 'space-between', \n                      alignItems: 'center',\n                      padding: '0.4rem 0.5rem',\n                      marginBottom: '0.25rem',\n                      opacity: periodChecks[b.id] ? 0.5 : 1,\n                      textDecoration: periodChecks[b.id] ? 'line-through' : 'none'\n                    }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1 }}>\n                        <input \n                          type=\"checkbox\" \n                          checked={periodChecks[b.id] || false}\n                          onChange={() => togglePaid(b.id, p.year, p.month, p.p)}\n                          style={{ width: '16px', height: '16px', cursor: 'pointer' }}\n                        />\n                        <span style={{ fontSize: '0.9rem' }}>{b.name}</span>\n                      </div>\n                      <span style={{ color: '#4ade80', fontWeight: 600, fontSize: '0.9rem' }}>\n                        {b.amount ? fmt(b.amount) : 'â€”'}\n                      </span>\n                    </div>\n                  ))}\n                  <div style={{ borderTop: '1px solid #2d2d2d', marginTop: '0.5rem', marginBottom: '0.5rem' }} />\n                </>\n              )}\n\n              {/* Monthly Expenses */}\n              {p.monthlyBills.length > 0 && (\n                <>\n                  {p.monthlyBills.map(b => (\n                    <div key={b.id} style={{ \n                      display: 'flex', \n                      justifyContent: 'space-between', \n                      alignItems: 'center',\n                      padding: '0.4rem 0.5rem',\n                      marginBottom: '0.25rem',\n                      opacity: periodChecks[b.id] ? 0.5 : 1,\n                      textDecoration: periodChecks[b.id] ? 'line-through' : 'none'\n                    }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1 }}>\n                        <input \n                          type=\"checkbox\" \n                          checked={periodChecks[b.id] || false}\n                          onChange={() => togglePaid(b.id, p.year, p.month, p.p)}\n                          style={{ width: '16px', height: '16px', cursor: 'pointer' }}\n                        />\n                        <span style={{ fontSize: '0.9rem' }}>{b.name}</span>\n                      </div>\n                      <span style={{ color: '#4ade80', fontWeight: 600, fontSize: '0.9rem' }}>\n                        {b.amount ? fmt(b.amount) : 'â€”'}\n                      </span>\n                    </div>\n                  ))}\n                  <div style={{ borderTop: '1px solid #2d2d2d', marginTop: '0.5rem', marginBottom: '0.5rem' }} />\n                </>\n              )}\n\n              {/* Investments */}\n              {p.investmentBills.length > 0 && (\n                <>\n                  {p.investmentBills.map(b => (\n                    <div key={b.id} style={{ \n                      display: 'flex', \n                      justifyContent: 'space-between', \n                      alignItems: 'center',\n                      padding: '0.4rem 0.5rem',\n                      marginBottom: '0.25rem',\n                      opacity: periodChecks[b.id] ? 0.5 : 1,\n                      textDecoration: periodChecks[b.id] ? 'line-through' : 'none'\n                    }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1 }}>\n                        <input \n                          type=\"checkbox\" \n                          checked={periodChecks[b.id] || false}\n                          onChange={() => togglePaid(b.id, p.year, p.month, p.p)}\n                          style={{ width: '16px', height: '16px', cursor: 'pointer' }}\n                        />\n                        <span style={{ fontSize: '0.9rem' }}>{b.name}</span>\n                      </div>\n                      <span style={{ color: '#4ade80', fontWeight: 600, fontSize: '0.9rem' }}>\n                        {b.amount ? fmt(b.amount) : 'â€”'}\n                      </span>\n                    </div>\n                  ))}\n                  {p.otherBills && p.otherBills.length > 0 && <div style={{ borderTop: '1px solid #2d2d2d', marginTop: '0.5rem', marginBottom: '0.5rem' }} />}\n                </>\n              )}\n\n              {/* Other Bills */}\n              {p.otherBills && p.otherBills.length > 0 && (\n                <>\n                  {p.otherBills.map(b => (\n                    <div key={b.id} style={{ \n                      display: 'flex', \n                      justifyContent: 'space-between', \n                      alignItems: 'center',\n                      padding: '0.4rem 0.5rem',\n                      marginBottom: '0.25rem',\n                      opacity: periodChecks[b.id] ? 0.5 : 1,\n                      textDecoration: periodChecks[b.id] ? 'line-through' : 'none'\n                    }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1 }}>\n                        <input \n                          type=\"checkbox\" \n                          checked={periodChecks[b.id] || false}\n                          onChange={() => togglePaid(b.id, p.year, p.month, p.p)}\n                          style={{ width: '16px', height: '16px', cursor: 'pointer' }}\n                        />\n                        <span style={{ fontSize: '0.9rem' }}>{b.name}</span>\n                      </div>\n                      <span style={{ color: '#4ade80', fontWeight: 600, fontSize: '0.9rem' }}>\n                        {b.amount ? fmt(b.amount) : 'â€”'}\n                      </span>\n                    </div>\n                  ))}\n                </>\n              )}\n\n              {p.allBills.length === 0 && (\n                <div style={{ color: '#999', textAlign: 'center', padding: '1rem', fontSize: '0.9rem' }}>No bills due this period</div>\n              )}\n            </div>\n\n            <div style={{ borderTop: '2px solid #4ade80', paddingTop: '1rem', marginTop: '1rem' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                <span>Total Bills:</span>\n                <span style={{ fontWeight: 600 }}>{fmt(p.transfer.total)}</span>\n              </div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                <span>Total Income:</span>\n                <span style={{ fontWeight: 600, color: '#4ade80' }}>{fmt(p.income.total)}</span>\n              </div>\n              <div style={{ borderTop: '2px solid #2d2d2d', paddingTop: '0.5rem', marginTop: '0.5rem' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', fontWeight: 700 }}>\n                  <span>Money Leftover:</span>\n                  <span style={{ color: p.transfer.leftover >= 0 ? '#4ade80' : '#ef4444', fontSize: '1.1rem' }}>\n                    {fmt(p.transfer.leftover)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </Card>\n        )})}\n      </div>\n    </div>\n  );\n}\nfunction Bills({ data, reload }) {\n  const [expanded, setExpanded] = useState({});\n  const [editing, setEditing] = useState(null);\n  const [editForm, setEditForm] = useState({});\n  const [paidBills, setPaidBills] = useState({});\n\n  const toggle = (cat) => setExpanded({ ...expanded, [cat]: !expanded[cat] });\n  const togglePaid = (billId) => setPaidBills({ ...paidBills, [billId]: !paidBills[billId] });\n\n  const categories = {\n    'Credit Card': { icon: 'ðŸ’³', label: 'Credit Cards', bills: data.bills.filter(b => b.category === 'Credit Card' || b.category === 'Loan') },\n    'Rent': { icon: 'ðŸ ', label: 'Rent', bills: data.bills.filter(b => b.category === 'Rent') },\n    'Monthly': { icon: 'ðŸ›’', label: 'Monthly Expenses', bills: data.bills.filter(b => ['Utility', 'Personal'].includes(b.category) && b.name !== 'Fundrise') },\n    'Investment': { icon: 'ðŸ“ˆ', label: 'Investments', bills: data.bills.filter(b => b.category === 'Investment' || b.name === 'Fundrise') }\n  };\n\n  // Split bills into 1st (1-14) and 15th (15-31) periods\n  const splitBillsByPeriod = (bills) => {\n    const first = bills.filter(b => b.due_date <= 14);\n    const fifteenth = bills.filter(b => b.due_date >= 15);\n    return { first, fifteenth };\n  };\n\n  const startEdit = (bill) => {\n    setEditing(bill.id);\n    setEditForm({\n      id: bill.id,\n      name: bill.name || '',\n      default_amount: bill.default_amount || '',\n      due_date: bill.due_date || 1,\n      paid_by: bill.paid_by || 'Anseli',\n      payment_method: bill.payment_method || '',\n      varies: bill.varies || false\n    });\n  };\n\n  const saveEdit = async () => {\n    try {\n      const updates = {\n        name: editForm.name,\n        default_amount: +editForm.default_amount || null,\n        due_date: +editForm.due_date,\n        paid_by: editForm.paid_by,\n        payment_method: editForm.payment_method\n      };\n      \n      await supabase.from('bills').update(updates).eq('id', editing);\n      \n      setEditing(null);\n      setEditForm({});\n      reload();\n    } catch (error) {\n      console.error('Error updating bill:', error);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditing(null);\n    setEditForm({});\n  };\n\n  const deleteBill = async (id, name) => {\n    if (window.confirm(`Delete \"${name}\"?`)) {\n      await supabase.from('bills').delete().eq('id', id);\n      reload();\n    }\n  };\n\n  const addBill = async (category) => {\n    const name = prompt('Bill name:');\n    if (!name) return;\n    \n    const amount = prompt('Amount (leave empty if varies):');\n    const paymentMethod = category === 'Monthly' ? prompt('Payment method (AMEX, Anseli Checking, etc.):') : null;\n    \n    await supabase.from('bills').insert([{\n      name,\n      default_amount: amount ? +amount : null,\n      due_date: 1,\n      category: category === 'Monthly' ? 'Personal' : category,\n      paid_by: 'Anseli',\n      payment_method: paymentMethod,\n      varies: !amount,\n      active: true\n    }]);\n    \n    reload();\n  };\n\n  return (\n    <div>\n      <h1 style={s.h1}>Bills Management</h1>\n      \n      {/* Summary Cards */}\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '1.5rem', marginBottom: '2rem' }}>\n        {/* Credit Utilization Card */}\n        {(() => {\n          const totalBalance = data.cards.reduce((sum, c) => sum + +c.balance, 0);\n          const totalLimit = data.cards.reduce((sum, c) => sum + (+c.credit_limit || 0), 0);\n          const utilization = totalLimit > 0 ? (totalBalance / totalLimit) * 100 : 0;\n          const utilizationColor = utilization < 30 ? '#4ade80' : utilization < 70 ? '#fbbf24' : '#ef4444';\n          \n          return (\n            <Card t=\"ðŸ’³ Credit Utilization\">\n              <div style={{ padding: '1rem' }}>\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1rem', marginBottom: '1.5rem' }}>\n                  <div>\n                    <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Total Balance</div>\n                    <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#ef4444' }}>{fmt(totalBalance)}</div>\n                  </div>\n                  <div>\n                    <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Total Limit</div>\n                    <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>{totalLimit > 0 ? fmt(totalLimit) : 'â€”'}</div>\n                  </div>\n                  <div>\n                    <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Utilization</div>\n                    <div style={{ fontSize: '1.5rem', fontWeight: 700, color: utilizationColor }}>\n                      {totalLimit > 0 ? `${utilization.toFixed(1)}%` : 'â€”'}\n                    </div>\n                  </div>\n                </div>\n                {totalLimit > 0 && (\n                  <div>\n                    {/* Utilization Bar - Shows used credit */}\n                    <div style={{ marginBottom: '1rem' }}>\n                      <div style={{ fontSize: '0.75rem', color: '#999', marginBottom: '0.25rem' }}>Credit Used</div>\n                      <div style={{ height: '12px', background: '#1a1a1a', borderRadius: '6px', overflow: 'hidden' }}>\n                        <div style={{ \n                          height: '100%', \n                          width: `${Math.min(utilization, 100)}%`, \n                          background: utilizationColor,\n                          transition: 'width 0.3s ease'\n                        }} />\n                      </div>\n                      <div style={{ fontSize: '0.75rem', color: '#666', marginTop: '0.25rem' }}>\n                        {fmt(totalBalance)} of {fmt(totalLimit)}\n                      </div>\n                    </div>\n                    \n                    {/* Total Available Credit Bar - Always 100% */}\n                    <div>\n                      <div style={{ fontSize: '0.75rem', color: '#999', marginBottom: '0.25rem' }}>Total Credit Available</div>\n                      <div style={{ height: '12px', background: '#1a1a1a', borderRadius: '6px', overflow: 'hidden' }}>\n                        <div style={{ \n                          height: '100%', \n                          width: '100%', \n                          background: 'linear-gradient(90deg, #4ade80, #22c55e)',\n                          transition: 'width 0.3s ease'\n                        }} />\n                      </div>\n                      <div style={{ fontSize: '0.75rem', color: '#666', marginTop: '0.25rem' }}>\n                        {fmt(totalLimit - totalBalance)} remaining\n                      </div>\n                    </div>\n                  </div>\n                )}\n                {totalLimit === 0 && (\n                  <div style={{ padding: '1rem', background: '#1a1a1a', borderRadius: '6px', textAlign: 'center', color: '#999' }}>\n                    Add credit limits on the Debt page to track utilization\n                  </div>\n                )}\n              </div>\n            </Card>\n          );\n        })()}\n\n        {/* Monthly Overview Card */}\n        {(() => {\n          const creditCardTotal = data.cards.filter(c => c.min_payment > 0).reduce((sum, c) => sum + +c.min_payment, 0) + \n                                  data.loans.filter(l => l.monthly_payment > 0).reduce((sum, l) => sum + +l.monthly_payment, 0);\n          const rentTotal = data.bills.filter(b => b.category === 'Rent').reduce((sum, b) => sum + (b.default_amount || 0), 0);\n          const monthlyTotal = data.bills.filter(b => ['Utility', 'Personal'].includes(b.category) && b.name !== 'Fundrise').reduce((sum, b) => sum + (b.default_amount || 0), 0);\n          const investmentTotal = data.bills.filter(b => b.category === 'Investment' || b.name === 'Fundrise').reduce((sum, b) => sum + (b.default_amount || 0), 0);\n          const grandTotal = creditCardTotal + rentTotal + monthlyTotal + investmentTotal;\n          \n          return (\n            <Card t=\"ðŸ’° Monthly Overview\">\n              <div style={{ padding: '1rem' }}>\n                <div style={{ fontSize: '2rem', fontWeight: 700, color: '#4ade80', marginBottom: '1.5rem', textAlign: 'center' }}>\n                  {fmt(grandTotal)}\n                  <div style={{ fontSize: '0.85rem', color: '#999', fontWeight: 400, marginTop: '0.25rem' }}>Total Monthly Bills</div>\n                </div>\n                <div style={{ display: 'grid', gap: '0.75rem' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem', background: '#0a0a0a', borderRadius: '6px' }}>\n                    <span style={{ color: '#999' }}>ðŸ’³ Credit Cards</span>\n                    <span style={{ fontWeight: 600 }}>{fmt(creditCardTotal)}</span>\n                  </div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem', background: '#0a0a0a', borderRadius: '6px' }}>\n                    <span style={{ color: '#999' }}>ðŸ  Rent</span>\n                    <span style={{ fontWeight: 600 }}>{fmt(rentTotal)}</span>\n                  </div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem', background: '#0a0a0a', borderRadius: '6px' }}>\n                    <span style={{ color: '#999' }}>ðŸ›’ Monthly Expenses</span>\n                    <span style={{ fontWeight: 600 }}>{fmt(monthlyTotal)}</span>\n                  </div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0.5rem', background: '#0a0a0a', borderRadius: '6px' }}>\n                    <span style={{ color: '#999' }}>ðŸ“ˆ Investments</span>\n                    <span style={{ fontWeight: 600 }}>{fmt(investmentTotal)}</span>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          );\n        })()}\n      </div>\n      \n      {Object.entries(categories).map(([key, { icon, label, bills }]) => {\n        // For Credit Cards, calculate total from Debt page data (only non-zero)\n        const total = key === 'Credit Card' \n          ? data.cards.filter(c => c.min_payment > 0).reduce((sum, c) => sum + +c.min_payment, 0) + \n            data.loans.filter(l => l.monthly_payment > 0).reduce((sum, l) => sum + +l.monthly_payment, 0)\n          : bills.reduce((sum, b) => sum + (b.default_amount || 0), 0);\n        \n        const itemCount = key === 'Credit Card' \n          ? data.cards.filter(c => c.min_payment > 0).length + data.loans.filter(l => l.monthly_payment > 0).length\n          : bills.length;\n        \n        const isExpanded = expanded[key];\n        \n        return (\n          <div key={key} style={s.expCard}>\n            <div style={s.expHeader} onClick={() => toggle(key)}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n                <span style={{ fontSize: '1.5rem' }}>{icon}</span>\n                <div>\n                  <div style={{ fontSize: '1.2rem', fontWeight: 600 }}>{label}</div>\n                  <div style={{ fontSize: '0.9rem', color: '#999' }}>\n                    {itemCount} {itemCount === 1 ? 'item' : 'items'} â€¢ {fmt(total)}/month\n                  </div>\n                </div>\n              </div>\n              <span style={{ fontSize: '1.5rem', color: '#4ade80' }}>{isExpanded ? 'âˆ’' : '+'}</span>\n            </div>\n\n            {isExpanded && (\n              <div style={s.expBody}>\n                {key === 'Credit Card' ? (\n                  /* Credit Cards - Simple List */\n                  <div style={{ padding: '1rem' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                      {data.cards.filter(card => card.min_payment > 0).map(card => (\n                        <div key={card.id} style={{ \n                          display: 'flex', \n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          padding: '0.75rem', \n                          background: '#0a0a0a', \n                          borderRadius: '6px'\n                        }}>\n                          <div style={{ fontWeight: 500 }}>{card.name}</div>\n                          <div style={{ fontWeight: 600, color: '#4ade80' }}>\n                            {fmt(card.min_payment)}\n                          </div>\n                        </div>\n                      ))}\n                      {data.loans.filter(loan => loan.monthly_payment > 0).map(loan => (\n                        <div key={loan.id} style={{ \n                          display: 'flex', \n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          padding: '0.75rem', \n                          background: '#0a0a0a', \n                          borderRadius: '6px'\n                        }}>\n                          <div style={{ fontWeight: 500 }}>{loan.name}</div>\n                          <div style={{ fontWeight: 600, color: '#4ade80' }}>\n                            {fmt(loan.monthly_payment)}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ) : (\n                  /* Rent, Monthly, Investments - Table Format like Debt Page */\n                  <>\n                    <table style={s.table}>\n                      <thead>\n                        <tr>\n                          <th style={s.th}>Name</th>\n                          <th style={s.th}>Amount</th>\n                          <th style={s.th}>Pay Period</th>\n                          <th style={s.th}>Paid By</th>\n                          {key === 'Monthly' && <th style={s.th}>Payment Method</th>}\n                          <th style={s.th}>Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {bills.map(bill => {\n                          const isEditing = editing === bill.id;\n                          return (\n                            <tr key={bill.id}>\n                              <td style={s.td}>\n                                {isEditing ? (\n                                  <input \n                                    value={editForm.name} \n                                    onChange={(e) => setEditForm({ ...editForm, name: e.target.value })} \n                                    style={s.editInput} \n                                  />\n                                ) : bill.name}\n                              </td>\n                              <td style={{ ...s.td, fontWeight: 600 }}>\n                                {isEditing ? (\n                                  <input \n                                    type=\"number\" \n                                    step=\"0.01\" \n                                    value={editForm.default_amount} \n                                    onChange={(e) => setEditForm({ ...editForm, default_amount: e.target.value })} \n                                    style={s.editInput} \n                                  />\n                                ) : (bill.default_amount ? fmt(bill.default_amount) : 'â€”')}\n                              </td>\n                              <td style={s.td}>\n                                {isEditing ? (\n                                  <select \n                                    value={editForm.due_date <= 14 ? '1st' : '15th'} \n                                    onChange={(e) => setEditForm({ ...editForm, due_date: e.target.value === '1st' ? 1 : 15 })}\n                                    style={s.editInput}\n                                  >\n                                    <option value=\"1st\">1st</option>\n                                    <option value=\"15th\">15th</option>\n                                  </select>\n                                ) : (bill.due_date <= 14 ? '1st' : '15th')}\n                              </td>\n                              <td style={s.td}>\n                                {isEditing ? (\n                                  <select \n                                    value={editForm.paid_by} \n                                    onChange={(e) => setEditForm({ ...editForm, paid_by: e.target.value })}\n                                    style={s.editInput}\n                                  >\n                                    <option value=\"Jorge\">Jorge</option>\n                                    <option value=\"Anseli\">Anseli</option>\n                                  </select>\n                                ) : <Bdg g={bill.paid_by === 'Anseli'}>{bill.paid_by}</Bdg>}\n                              </td>\n                              {key === 'Monthly' && (\n                                <td style={s.td}>\n                                  {isEditing ? (\n                                    <select \n                                      value={editForm.payment_method || ''} \n                                      onChange={(e) => setEditForm({ ...editForm, payment_method: e.target.value })}\n                                      style={s.editInput}\n                                    >\n                                      <option value=\"\">Select...</option>\n                                      <option value=\"AMEX\">AMEX</option>\n                                      <option value=\"Jorge Visa\">Jorge Visa</option>\n                                      <option value=\"Anseli Visa\">Anseli Visa</option>\n                                      <option value=\"Jorge Checking\">Jorge Checking</option>\n                                      <option value=\"Anseli Checking\">Anseli Checking</option>\n                                      <option value=\"Anseli Bank Account\">Anseli Bank Account</option>\n                                    </select>\n                                  ) : (\n                                    <span style={{ fontSize: '0.85rem', color: '#999' }}>{bill.payment_method || 'â€”'}</span>\n                                  )}\n                                </td>\n                              )}\n                              <td style={s.td}>\n                                {isEditing ? (\n                                  <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n                                    <Btn sm onClick={saveEdit}>Save</Btn>\n                                    <Btn sm sec onClick={cancelEdit}>Cancel</Btn>\n                                    <button onClick={() => deleteBill(editForm.id, editForm.name)} style={{...s.iconBtn, color: '#ef4444'}} title=\"Delete\">ðŸ—‘ï¸</button>\n                                  </div>\n                                ) : (\n                                  <button onClick={() => startEdit(bill)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n                                )}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                    <div style={{ padding: '1rem', borderTop: '1px solid #2d2d2d' }}>\n                      <Btn onClick={() => addBill(key)}>\n                        + Add {key === 'Rent' ? 'Rent' : label === 'Monthly Expenses' ? 'Expense' : 'Investment'}\n                      </Btn>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        );\n      })}\n\n      {/* Budget Planning Notes Section */}\n      <BudgetPlanning data={data} reload={reload} />\n    </div>\n  );\n}\n\nfunction BudgetPlanning({ data, reload }) {\n  const [expanded, setExpanded] = useState(false);\n  const [editing, setEditing] = useState(null);\n  const [adding, setAdding] = useState(false);\n  const [form, setForm] = useState({ title: '', content: '' });\n  const [newNote, setNewNote] = useState({ title: '', content: '' });\n  const [saving, setSaving] = useState(false);\n\n  const notes = data.notes || [];\n\n  const startEdit = (note) => {\n    setEditing(note.id);\n    setForm({ title: note.title, content: note.content });\n  };\n\n  const cancelEdit = () => {\n    setEditing(null);\n    setForm({ title: '', content: '' });\n  };\n\n  const saveEdit = async (note) => {\n    if (!form.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    setSaving(true);\n    await supabase.from('budget_notes').update({\n      title: form.title,\n      content: form.content,\n      updated_at: new Date().toISOString()\n    }).eq('id', note.id);\n    setEditing(null);\n    setSaving(false);\n    reload();\n  };\n\n  const deleteNote = async (id, title) => {\n    if (!window.confirm(`Delete note \"${title}\"?`)) return;\n    await supabase.from('budget_notes').delete().eq('id', id);\n    reload();\n  };\n\n  const addNote = async () => {\n    if (!newNote.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    await supabase.from('budget_notes').insert({\n      title: newNote.title,\n      content: newNote.content\n    });\n    setAdding(false);\n    setNewNote({ title: '', content: '' });\n    reload();\n  };\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp);\n    return date.toLocaleString('en-US', { \n      month: 'short', \n      day: 'numeric', \n      year: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  return (\n    <div style={{ \n      background: '#1a1a1a', \n      border: '1px solid #2d2d2d', \n      borderRadius: '12px', \n      overflow: 'hidden',\n      marginTop: '1.5rem'\n    }}>\n      <div \n        onClick={() => setExpanded(!expanded)}\n        style={{ \n          padding: '1.5rem', \n          cursor: 'pointer', \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center',\n          borderBottom: expanded ? '1px solid #2d2d2d' : 'none'\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n          <span style={{ fontSize: '1.5rem' }}>ðŸ“</span>\n          <div>\n            <h3 style={{ fontSize: '1.25rem', fontWeight: 600, marginBottom: '0.25rem' }}>Budget Planning</h3>\n            <p style={{ fontSize: '0.9rem', color: '#999', margin: 0 }}>{notes.length} notes</p>\n          </div>\n        </div>\n        <span style={{ fontSize: '1.5rem', transition: 'transform 0.2s', transform: expanded ? 'rotate(180deg)' : 'rotate(0)' }}>\n          â–¼\n        </span>\n      </div>\n\n      {expanded && (\n        <div style={{ padding: '1.5rem' }}>\n          {/* Add Note Button */}\n          <div style={{ marginBottom: '1.5rem' }}>\n            <Btn onClick={() => setAdding(!adding)}>\n              {adding ? 'Cancel' : '+ Add Note'}\n            </Btn>\n          </div>\n\n          {/* Add Note Form */}\n          {adding && (\n            <div style={{ \n              background: '#0a0a0a', \n              border: '1px solid #2d2d2d', \n              borderRadius: '8px', \n              padding: '1.5rem',\n              marginBottom: '1.5rem'\n            }}>\n              <div style={{ marginBottom: '1rem' }}>\n                <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                  Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={newNote.title}\n                  onChange={(e) => setNewNote({ ...newNote, title: e.target.value })}\n                  style={s.input}\n                  placeholder=\"Budget review, savings goals, etc.\"\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                  Notes\n                </label>\n                <textarea\n                  value={newNote.content}\n                  onChange={(e) => setNewNote({ ...newNote, content: e.target.value })}\n                  style={{ ...s.input, minHeight: '120px', resize: 'vertical', fontFamily: 'inherit' }}\n                  placeholder=\"Add your budget planning notes here...\"\n                />\n              </div>\n              <div style={{ display: 'flex', gap: '0.5rem' }}>\n                <Btn onClick={addNote}>Save Note</Btn>\n                <Btn sec onClick={() => { setAdding(false); setNewNote({ title: '', content: '' }); }}>\n                  Cancel\n                </Btn>\n              </div>\n            </div>\n          )}\n\n          {/* Notes List */}\n          {notes.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '3rem', color: '#999' }}>\n              No budget planning notes yet. Click \"Add Note\" to get started.\n            </div>\n          ) : (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n              {notes.map(note => (\n                <div \n                  key={note.id}\n                  style={{ \n                    background: '#0a0a0a', \n                    border: '1px solid #2d2d2d', \n                    borderRadius: '8px', \n                    padding: '1.5rem'\n                  }}\n                >\n                  {editing === note.id ? (\n                    <>\n                      <div style={{ marginBottom: '1rem' }}>\n                        <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                          Title\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={form.title}\n                          onChange={(e) => setForm({ ...form, title: e.target.value })}\n                          style={s.input}\n                        />\n                      </div>\n                      <div style={{ marginBottom: '1rem' }}>\n                        <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                          Notes\n                        </label>\n                        <textarea\n                          value={form.content}\n                          onChange={(e) => setForm({ ...form, content: e.target.value })}\n                          style={{ ...s.input, minHeight: '120px', resize: 'vertical', fontFamily: 'inherit' }}\n                        />\n                      </div>\n                      <div style={{ display: 'flex', gap: '0.5rem' }}>\n                        <Btn sm onClick={() => saveEdit(note)} disabled={saving}>\n                          {saving ? 'Saving...' : 'Save'}\n                        </Btn>\n                        <Btn sm sec onClick={cancelEdit}>Cancel</Btn>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>\n                        <div>\n                          <h4 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '0.25rem' }}>\n                            {note.title}\n                          </h4>\n                          <p style={{ fontSize: '0.85rem', color: '#999', margin: 0 }}>\n                            {note.updated_at !== note.created_at && 'Updated '}\n                            {formatTimestamp(note.updated_at || note.created_at)}\n                          </p>\n                        </div>\n                        <div style={{ display: 'flex', gap: '0.5rem' }}>\n                          <button onClick={() => startEdit(note)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n                          <button onClick={() => deleteNote(note.id, note.title)} style={{...s.iconBtn, color: '#ef4444'}} title=\"Delete\">ðŸ—‘ï¸</button>\n                        </div>\n                      </div>\n                      {note.content && (\n                        <p style={{ \n                          color: '#e0e0e0', \n                          lineHeight: '1.6', \n                          margin: 0,\n                          whiteSpace: 'pre-wrap',\n                          wordWrap: 'break-word'\n                        }}>\n                          {note.content}\n                        </p>\n                      )}\n                    </>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction Subscriptions({ data, reload }) {\n  const [editing, setEditing] = useState(null);\n  const [form, setForm] = useState({});\n  const [adding, setAdding] = useState(false);\n  const [newSub, setNewSub] = useState({ name: '', amount: '', due_date: '', frequency: 'Monthly' });\n  const [filter, setFilter] = useState('All');\n  const [saving, setSaving] = useState(false);\n\n  const subscriptions = data.subscriptions || [];\n  \n  // Calculate totals by frequency\n  const monthlyTotal = subscriptions.filter(s => s.frequency === 'Monthly').reduce((sum, s) => sum + +s.amount, 0);\n  const quarterlyTotal = subscriptions.filter(s => s.frequency === 'Quarterly').reduce((sum, s) => sum + +s.amount, 0);\n  const sixMonthsTotal = subscriptions.filter(s => s.frequency === '6 Months').reduce((sum, s) => sum + +s.amount, 0);\n  const yearlyTotal = subscriptions.filter(s => s.frequency === 'Yearly').reduce((sum, s) => sum + +s.amount, 0);\n  \n  // Calculate annual cost (convert all to yearly)\n  const annualCost = (monthlyTotal * 12) + (quarterlyTotal * 4) + (sixMonthsTotal * 2) + yearlyTotal;\n  const monthlyAverage = annualCost / 12;\n  \n  // Filter and sort subscriptions by due date\n  const filtered = (filter === 'All' ? subscriptions : subscriptions.filter(s => s.frequency === filter))\n    .sort((a, b) => new Date(a.due_date) - new Date(b.due_date));\n\n  const startEdit = (sub) => {\n    setEditing(sub.id);\n    setForm({ ...sub });\n  };\n\n  const cancelEdit = () => {\n    setEditing(null);\n    setForm({});\n  };\n\n  const save = async (sub) => {\n    setSaving(true);\n    await supabase.from('subscriptions').update({\n      name: form.name,\n      amount: +form.amount,\n      due_date: form.due_date,\n      frequency: form.frequency,\n      updated_at: new Date().toISOString()\n    }).eq('id', sub.id);\n    setEditing(null);\n    setSaving(false);\n    reload();\n  };\n\n  const deleteSub = async (id) => {\n    if (!window.confirm('Delete this subscription?')) return;\n    await supabase.from('subscriptions').update({ active: false }).eq('id', id);\n    reload();\n  };\n\n  const addNew = async () => {\n    if (!newSub.name || !newSub.amount || !newSub.due_date) {\n      alert('Please fill in all fields');\n      return;\n    }\n    await supabase.from('subscriptions').insert({\n      name: newSub.name,\n      amount: +newSub.amount,\n      due_date: newSub.due_date,\n      frequency: newSub.frequency,\n      active: true\n    });\n    setAdding(false);\n    setNewSub({ name: '', amount: '', due_date: '', frequency: 'Monthly' });\n    reload();\n  };\n\n  const formatDate = (dateStr) => {\n    const date = new Date(dateStr + 'T00:00:00');\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n  };\n\n  return (\n    <div>\n      <h1 style={s.h1}>Subscriptions</h1>\n\n      {/* Annual Total Hero Card */}\n      <Card>\n        <div style={{ textAlign: 'center', padding: '1.5rem' }}>\n          <div style={{ fontSize: '0.9rem', color: '#999', marginBottom: '0.5rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n            ðŸ’° Total Annual Subscription Cost\n          </div>\n          <div style={{ fontSize: '3.5rem', fontWeight: 700, color: '#4ade80', marginBottom: '1rem' }}>\n            {fmt(annualCost)}\n          </div>\n          <div style={{ display: 'flex', gap: '2rem', justifyContent: 'center', flexWrap: 'wrap', color: '#999', fontSize: '0.9rem' }}>\n            <div>\n              <div style={{ color: '#666', fontSize: '0.85rem' }}>Monthly Average</div>\n              <div style={{ fontSize: '1.2rem', fontWeight: 600, color: '#4ade80' }}>{fmt(monthlyAverage)}</div>\n            </div>\n            <div>\n              <div style={{ color: '#666', fontSize: '0.85rem' }}>Total Subscriptions</div>\n              <div style={{ fontSize: '1.2rem', fontWeight: 600, color: '#4ade80' }}>{subscriptions.length}</div>\n            </div>\n          </div>\n          \n          {/* Breakdown */}\n          <div style={{ \n            marginTop: '1.5rem', \n            paddingTop: '1.5rem', \n            borderTop: '1px solid #2d2d2d',\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n            gap: '1rem',\n            fontSize: '0.85rem'\n          }}>\n            <div>\n              <div style={{ color: '#666', marginBottom: '0.25rem' }}>Monthly Ã— 12</div>\n              <div style={{ color: '#e0e0e0', fontWeight: 500 }}>\n                {fmt(monthlyTotal)} Ã— 12 = {fmt(monthlyTotal * 12)}\n              </div>\n            </div>\n            <div>\n              <div style={{ color: '#666', marginBottom: '0.25rem' }}>Quarterly Ã— 4</div>\n              <div style={{ color: '#e0e0e0', fontWeight: 500 }}>\n                {fmt(quarterlyTotal)} Ã— 4 = {fmt(quarterlyTotal * 4)}\n              </div>\n            </div>\n            <div>\n              <div style={{ color: '#666', marginBottom: '0.25rem' }}>6 Months Ã— 2</div>\n              <div style={{ color: '#e0e0e0', fontWeight: 500 }}>\n                {fmt(sixMonthsTotal)} Ã— 2 = {fmt(sixMonthsTotal * 2)}\n              </div>\n            </div>\n            <div>\n              <div style={{ color: '#666', marginBottom: '0.25rem' }}>Yearly Ã— 1</div>\n              <div style={{ color: '#e0e0e0', fontWeight: 500 }}>\n                {fmt(yearlyTotal)} Ã— 1 = {fmt(yearlyTotal)}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n\n      {/* Frequency Breakdown Cards */}\n      <div style={s.grid}>\n        <Card t=\"ðŸ’° Monthly\">\n          <div style={{ textAlign: 'center', padding: '1rem' }}>\n            <div style={{ fontSize: '2.5rem', fontWeight: 700, color: '#4ade80', marginBottom: '0.5rem' }}>\n              {fmt(monthlyTotal)}\n            </div>\n            <div style={{ color: '#999', fontSize: '0.9rem' }}>\n              {subscriptions.filter(s => s.frequency === 'Monthly').length} subscriptions\n            </div>\n          </div>\n        </Card>\n\n        <Card t=\"ðŸ“… Quarterly\">\n          <div style={{ textAlign: 'center', padding: '1rem' }}>\n            <div style={{ fontSize: '2.5rem', fontWeight: 700, color: '#4ade80', marginBottom: '0.5rem' }}>\n              {fmt(quarterlyTotal)}\n            </div>\n            <div style={{ color: '#999', fontSize: '0.9rem' }}>\n              {subscriptions.filter(s => s.frequency === 'Quarterly').length} subscriptions\n            </div>\n          </div>\n        </Card>\n\n        <Card t=\"ðŸ“† 6 Months\">\n          <div style={{ textAlign: 'center', padding: '1rem' }}>\n            <div style={{ fontSize: '2.5rem', fontWeight: 700, color: '#4ade80', marginBottom: '0.5rem' }}>\n              {fmt(sixMonthsTotal)}\n            </div>\n            <div style={{ color: '#999', fontSize: '0.9rem' }}>\n              {subscriptions.filter(s => s.frequency === '6 Months').length} subscriptions\n            </div>\n          </div>\n        </Card>\n\n        <Card t=\"ðŸ—“ï¸ Yearly\">\n          <div style={{ textAlign: 'center', padding: '1rem' }}>\n            <div style={{ fontSize: '2.5rem', fontWeight: 700, color: '#4ade80', marginBottom: '0.5rem' }}>\n              {fmt(yearlyTotal)}\n            </div>\n            <div style={{ color: '#999', fontSize: '0.9rem' }}>\n              {subscriptions.filter(s => s.frequency === 'Yearly').length} subscriptions\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      {/* Filter Tabs */}\n      <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1.5rem', flexWrap: 'wrap', alignItems: 'center' }}>\n        {['All', 'Monthly', 'Quarterly', '6 Months', 'Yearly'].map(f => (\n          <button\n            key={f}\n            onClick={() => setFilter(f)}\n            style={{\n              padding: '0.5rem 1rem',\n              background: filter === f ? '#4ade80' : '#1a1a1a',\n              color: filter === f ? '#000' : '#fff',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontWeight: filter === f ? 600 : 400,\n              fontSize: '0.9rem'\n            }}\n          >\n            {f}\n          </button>\n        ))}\n        <div style={{ marginLeft: 'auto' }}>\n          <Btn onClick={() => setAdding(!adding)}>\n            {adding ? 'Cancel' : '+ Add Subscription'}\n          </Btn>\n        </div>\n      </div>\n\n      {/* Add New Subscription Form */}\n      {adding && (\n        <Card t=\"Add New Subscription\">\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                Name\n              </label>\n              <input\n                type=\"text\"\n                value={newSub.name}\n                onChange={(e) => setNewSub({ ...newSub, name: e.target.value })}\n                style={s.input}\n                placeholder=\"Netflix, Spotify, etc.\"\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                Amount\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newSub.amount}\n                onChange={(e) => setNewSub({ ...newSub, amount: e.target.value })}\n                style={s.input}\n                placeholder=\"15.99\"\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                Due Date\n              </label>\n              <input\n                type=\"date\"\n                value={newSub.due_date}\n                onChange={(e) => setNewSub({ ...newSub, due_date: e.target.value })}\n                onClick={(e) => e.target.showPicker && e.target.showPicker()}\n                style={{ \n                  ...s.input,\n                  cursor: 'pointer'\n                }}\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.9rem', fontWeight: 500 }}>\n                Frequency\n              </label>\n              <select\n                value={newSub.frequency}\n                onChange={(e) => setNewSub({ ...newSub, frequency: e.target.value })}\n                style={s.input}\n              >\n                <option value=\"Monthly\">Monthly</option>\n                <option value=\"Quarterly\">Quarterly</option>\n                <option value=\"6 Months\">6 Months</option>\n                <option value=\"Yearly\">Yearly</option>\n              </select>\n            </div>\n          </div>\n          <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\n            <Btn onClick={addNew}>Add Subscription</Btn>\n            <Btn sec onClick={() => { setAdding(false); setNewSub({ name: '', amount: '', due_date: '', frequency: 'Monthly' }); }}>\n              Cancel\n            </Btn>\n          </div>\n        </Card>\n      )}\n\n      {/* Subscriptions Table */}\n      <Card t={`${filter} Subscriptions (${filtered.length})`}>\n        {filtered.length === 0 ? (\n          <div style={{ textAlign: 'center', padding: '3rem', color: '#999' }}>\n            No {filter !== 'All' ? filter.toLowerCase() : ''} subscriptions yet. Click \"Add Subscription\" to get started.\n          </div>\n        ) : (\n          <div style={{ overflowX: 'auto' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n              <thead>\n                <tr style={{ borderBottom: '2px solid #2d2d2d' }}>\n                  <th style={{ ...s.th, textAlign: 'left' }}>Name</th>\n                  <th style={{ ...s.th, textAlign: 'center' }}>Due Date</th>\n                  <th style={{ ...s.th, textAlign: 'center' }}>Amount</th>\n                  <th style={{ ...s.th, textAlign: 'center' }}>Frequency</th>\n                  <th style={{ ...s.th, textAlign: 'center' }}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filtered.map(sub => (\n                  <tr key={sub.id} style={{ borderBottom: '1px solid #2d2d2d' }}>\n                    {editing === sub.id ? (\n                      <>\n                        <td style={s.td}>\n                          <input\n                            type=\"text\"\n                            value={form.name}\n                            onChange={(e) => setForm({ ...form, name: e.target.value })}\n                            style={{ ...s.input, width: '100%' }}\n                          />\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <input\n                            type=\"date\"\n                            value={form.due_date}\n                            onChange={(e) => setForm({ ...form, due_date: e.target.value })}\n                            onClick={(e) => e.target.showPicker && e.target.showPicker()}\n                            style={{ \n                              ...s.input, \n                              width: '150px', \n                              textAlign: 'center',\n                              cursor: 'pointer'\n                            }}\n                          />\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <input\n                            type=\"number\"\n                            step=\"0.01\"\n                            value={form.amount}\n                            onChange={(e) => setForm({ ...form, amount: e.target.value })}\n                            style={{ ...s.input, width: '100px', textAlign: 'center' }}\n                          />\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <select\n                            value={form.frequency}\n                            onChange={(e) => setForm({ ...form, frequency: e.target.value })}\n                            style={{ ...s.input, width: '120px' }}\n                          >\n                            <option value=\"Monthly\">Monthly</option>\n                            <option value=\"Quarterly\">Quarterly</option>\n                            <option value=\"6 Months\">6 Months</option>\n                            <option value=\"Yearly\">Yearly</option>\n                          </select>\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\n                            <Btn sm onClick={() => save(sub)} disabled={saving}>\n                              {saving ? '...' : 'âœ“'}\n                            </Btn>\n                            <Btn sm sec onClick={cancelEdit}>âœ•</Btn>\n                          </div>\n                        </td>\n                      </>\n                    ) : (\n                      <>\n                        <td style={{ ...s.td, fontWeight: 500 }}>{sub.name}</td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          {formatDate(sub.due_date)}\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center', fontWeight: 600, color: '#4ade80' }}>\n                          {fmt(sub.amount)}\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <span style={{\n                            padding: '0.25rem 0.75rem',\n                            background: sub.frequency === 'Monthly' ? '#1a4d2e' : \n                                       sub.frequency === 'Quarterly' ? '#1a3a4d' :\n                                       sub.frequency === '6 Months' ? '#4d1a3a' : '#4d3a1a',\n                            borderRadius: '12px',\n                            fontSize: '0.85rem'\n                          }}>\n                            {sub.frequency}\n                          </span>\n                        </td>\n                        <td style={{ ...s.td, textAlign: 'center' }}>\n                          <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\n                            <button onClick={() => startEdit(sub)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n                            <button onClick={() => deleteSub(sub.id)} style={s.iconBtn} title=\"Delete\">ðŸ—‘ï¸</button>\n                          </div>\n                        </td>\n                      </>\n                    )}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n\nfunction Debt({ data, reload }) {\n  const [editingCard, setEditingCard] = useState(null);\n  const [editingLoan, setEditingLoan] = useState(null);\n  const [cardForm, setCardForm] = useState({});\n  const [loanForm, setLoanForm] = useState({});\n  const [sortBy, setSortBy] = useState('name');\n  const [sortDir, setSortDir] = useState('asc');\n  \n  const cardDebt = data.cards.reduce((s, c) => s + +c.balance, 0);\n  const loanDebt = data.loans.reduce((s, l) => s + +l.balance, 0);\n  \n  // Calculate debt by owner\n  const jorgeCardDebt = data.cards.filter(c => c.owned_by === 'Jorge').reduce((s, c) => s + +c.balance, 0);\n  const anseliCardDebt = data.cards.filter(c => c.owned_by === 'Anseli').reduce((s, c) => s + +c.balance, 0);\n  const jorgeTotalDebt = jorgeCardDebt + loanDebt; // Assuming loans are shared or Jorge's\n  const anseliTotalDebt = anseliCardDebt;\n\n  const startEditCard = (card) => {\n    setEditingCard(card.id);\n    setCardForm({\n      id: card.id,\n      name: card.name || '',\n      balance: card.balance || 0,\n      credit_limit: card.credit_limit || '',\n      min_payment: card.min_payment || 0,\n      apr: card.apr || 0,\n      owned_by: card.owned_by || 'Jorge',\n      due_date: card.due_date || 1\n    });\n  };\n\n  const saveCard = async () => {\n    try {\n      await supabase.from('credit_cards').update({\n        name: cardForm.name,\n        balance: +cardForm.balance,\n        credit_limit: +cardForm.credit_limit || null,\n        min_payment: +cardForm.min_payment,\n        apr: +cardForm.apr,\n        owned_by: cardForm.owned_by,\n        due_date: +cardForm.due_date\n      }).eq('id', editingCard);\n      setEditingCard(null);\n      setCardForm({});\n      reload();\n    } catch (error) {\n      console.error('Error updating card:', error);\n    }\n  };\n\n  const cancelEditCard = () => {\n    setEditingCard(null);\n    setCardForm({});\n  };\n\n  const deleteCard = async (id, name) => {\n    if (window.confirm(`Delete \"${name}\"?`)) {\n      await supabase.from('credit_cards').delete().eq('id', id);\n      reload();\n    }\n  };\n\n  const addCard = async () => {\n    const name = prompt('Card name:');\n    if (!name) return;\n    const balance = prompt('Balance:') || 0;\n    const minPayment = prompt('Minimum payment:') || 0;\n    const apr = prompt('APR (%):') || 0;\n    const dueDate = prompt('Due date (1-31):') || 1;\n    \n    await supabase.from('credit_cards').insert([{\n      name,\n      balance: +balance,\n      min_payment: +minPayment,\n      apr: +apr,\n      due_date: +dueDate,\n      owned_by: 'Jorge',\n      active: true\n    }]);\n    reload();\n  };\n\n  const startEditLoan = (loan) => {\n    setEditingLoan(loan.id);\n    setLoanForm({\n      id: loan.id,\n      name: loan.name || '',\n      balance: loan.balance || 0,\n      monthly_payment: loan.monthly_payment || 0,\n      apr: loan.apr || 0\n    });\n  };\n\n  const saveLoan = async () => {\n    try {\n      await supabase.from('loans').update({\n        name: loanForm.name,\n        balance: +loanForm.balance,\n        monthly_payment: +loanForm.monthly_payment,\n        apr: +loanForm.apr\n      }).eq('id', editingLoan);\n      setEditingLoan(null);\n      setLoanForm({});\n      reload();\n    } catch (error) {\n      console.error('Error updating loan:', error);\n    }\n  };\n\n  const cancelEditLoan = () => {\n    setEditingLoan(null);\n    setLoanForm({});\n  };\n\n  const deleteLoan = async (id, name) => {\n    if (window.confirm(`Delete \"${name}\"?`)) {\n      await supabase.from('loans').delete().eq('id', id);\n      reload();\n    }\n  };\n\n  const addLoan = async () => {\n    const name = prompt('Loan name:');\n    if (!name) return;\n    const balance = prompt('Balance:') || 0;\n    const payment = prompt('Monthly payment:') || 0;\n    const apr = prompt('APR (%):') || 0;\n    \n    await supabase.from('loans').insert([{\n      name,\n      balance: +balance,\n      monthly_payment: +payment,\n      apr: +apr,\n      active: true\n    }]);\n    reload();\n  };\n\n  const handleSort = (field) => {\n    if (sortBy === field) {\n      setSortDir(sortDir === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortDir('asc');\n    }\n  };\n\n  const sortedCards = [...data.cards].sort((a, b) => {\n    let aVal, bVal;\n    if (sortBy === 'balance') {\n      aVal = +a.balance;\n      bVal = +b.balance;\n    } else if (sortBy === 'due_date') {\n      aVal = +a.due_date;\n      bVal = +b.due_date;\n    } else if (sortBy === 'owner') {\n      aVal = a.owned_by;\n      bVal = b.owned_by;\n    } else {\n      aVal = a.name;\n      bVal = b.name;\n    }\n    \n    if (aVal < bVal) return sortDir === 'asc' ? -1 : 1;\n    if (aVal > bVal) return sortDir === 'asc' ? 1 : -1;\n    return 0;\n  });\n\n  return (\n    <div>\n      <h1 style={s.h1}>Debt Overview</h1>\n      <div style={s.grid}>\n        <StatCard l=\"Total Debt\" v={fmt(cardDebt + loanDebt)} />\n        <StatCard l=\"Credit Cards\" v={fmt(cardDebt)} />\n        <StatCard l=\"Loans\" v={fmt(loanDebt)} />\n        <StatCard l=\"Jorge's Debt\" v={fmt(jorgeTotalDebt)} />\n        <StatCard l=\"Anseli's Debt\" v={fmt(anseliTotalDebt)} />\n      </div>\n\n      <Card t=\"Credit Cards\">\n        <table style={s.table}>\n          <thead>\n            <tr>\n              <th style={s.th}>Card</th>\n              <th style={{ ...s.th, cursor: 'pointer' }} onClick={() => handleSort('balance')}>\n                Balance {sortBy === 'balance' && (sortDir === 'asc' ? 'â†‘' : 'â†“')}\n              </th>\n              <th style={s.th}>Credit Limit</th>\n              <th style={s.th}>Min Payment</th>\n              <th style={{ ...s.th, cursor: 'pointer' }} onClick={() => handleSort('due_date')}>\n                Due {sortBy === 'due_date' && (sortDir === 'asc' ? 'â†‘' : 'â†“')}\n              </th>\n              <th style={s.th}>APR</th>\n              <th style={{ ...s.th, cursor: 'pointer' }} onClick={() => handleSort('owner')}>\n                Owner {sortBy === 'owner' && (sortDir === 'asc' ? 'â†‘' : 'â†“')}\n              </th>\n              <th style={s.th}>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedCards.map(c => {\n              const isEditing = editingCard === c.id;\n              return (\n                <tr key={c.id}>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input value={cardForm.name} onChange={(e) => setCardForm({ ...cardForm, name: e.target.value })} style={s.editInput} />\n                    ) : c.name}\n                  </td>\n                  <td style={{ ...s.td, fontWeight: 600 }}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={cardForm.balance} onChange={(e) => setCardForm({ ...cardForm, balance: e.target.value })} style={s.editInput} />\n                    ) : fmt(c.balance)}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={cardForm.credit_limit || ''} onChange={(e) => setCardForm({ ...cardForm, credit_limit: e.target.value })} style={s.editInput} placeholder=\"Limit\" />\n                    ) : (c.credit_limit ? fmt(c.credit_limit) : 'â€”')}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={cardForm.min_payment} onChange={(e) => setCardForm({ ...cardForm, min_payment: e.target.value })} style={s.editInput} />\n                    ) : fmt(c.min_payment)}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" min=\"1\" max=\"31\" value={cardForm.due_date} onChange={(e) => setCardForm({ ...cardForm, due_date: e.target.value })} style={s.editInput} />\n                    ) : `${c.due_date}${c.due_date === 1 ? 'st' : c.due_date === 2 ? 'nd' : c.due_date === 3 ? 'rd' : 'th'}`}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={cardForm.apr} onChange={(e) => setCardForm({ ...cardForm, apr: e.target.value })} style={s.editInput} />\n                    ) : `${c.apr}%`}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <select value={cardForm.owned_by} onChange={(e) => setCardForm({ ...cardForm, owned_by: e.target.value })} style={s.editInput}>\n                        <option value=\"Jorge\">Jorge</option>\n                        <option value=\"Anseli\">Anseli</option>\n                      </select>\n                    ) : <Bdg g={c.owned_by === 'Anseli'}>{c.owned_by}</Bdg>}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n                        <Btn sm onClick={saveCard}>Save</Btn>\n                        <Btn sm sec onClick={cancelEditCard}>Cancel</Btn>\n                        <button onClick={() => deleteCard(c.id, c.name)} style={{...s.iconBtn, color: '#ef4444'}} title=\"Delete\">ðŸ—‘ï¸</button>\n                      </div>\n                    ) : (\n                      <button onClick={() => startEditCard(c)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n                    )}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <div style={{ padding: '1rem', borderTop: '1px solid #2d2d2d' }}>\n          <Btn onClick={addCard}>+ Add Credit Card</Btn>\n        </div>\n      </Card>\n\n      <Card t=\"Loans\">\n        <table style={s.table}>\n          <thead>\n            <tr>{['Loan', 'Balance', 'Payment', 'APR', 'Actions'].map(h => <th key={h} style={s.th}>{h}</th>)}</tr>\n          </thead>\n          <tbody>\n            {data.loans.map(l => {\n              const isEditing = editingLoan === l.id;\n              return (\n                <tr key={l.id}>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input value={loanForm.name} onChange={(e) => setLoanForm({ ...loanForm, name: e.target.value })} style={s.editInput} />\n                    ) : l.name}\n                  </td>\n                  <td style={{ ...s.td, fontWeight: 600 }}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={loanForm.balance} onChange={(e) => setLoanForm({ ...loanForm, balance: e.target.value })} style={s.editInput} />\n                    ) : fmt(l.balance)}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={loanForm.monthly_payment} onChange={(e) => setLoanForm({ ...loanForm, monthly_payment: e.target.value })} style={s.editInput} />\n                    ) : fmt(l.monthly_payment)}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <input type=\"number\" step=\"0.01\" value={loanForm.apr} onChange={(e) => setLoanForm({ ...loanForm, apr: e.target.value })} style={s.editInput} />\n                    ) : `${l.apr}%`}\n                  </td>\n                  <td style={s.td}>\n                    {isEditing ? (\n                      <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n                        <Btn sm onClick={saveLoan}>Save</Btn>\n                        <Btn sm sec onClick={cancelEditLoan}>Cancel</Btn>\n                        <button onClick={() => deleteLoan(l.id, l.name)} style={{...s.iconBtn, color: '#ef4444'}} title=\"Delete\">ðŸ—‘ï¸</button>\n                      </div>\n                    ) : (\n                      <button onClick={() => startEditLoan(l)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n                    )}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <div style={{ padding: '1rem', borderTop: '1px solid #2d2d2d' }}>\n          <Btn onClick={addLoan}>+ Add Loan</Btn>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nfunction Settings({ data, reload }) {\n  const [jorge, setJorge] = useState(null);\n  const [anseli, setAnseli] = useState(null);\n  const [editingJorge, setEditingJorge] = useState(false);\n  const [editingAnseli, setEditingAnseli] = useState(false);\n  const [jorgeForm, setJorgeForm] = useState({});\n  const [anseliForm, setAnseliForm] = useState({});\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    const j = data.income.find(s => s.person === 'Jorge');\n    const a = data.income.find(s => s.person === 'Anseli');\n    setJorge(j);\n    setAnseli(a);\n    // Ensure dates are in YYYY-MM-DD format for date inputs\n    setJorgeForm({\n      ...j,\n      next_pay_date: j?.next_pay_date ? j.next_pay_date : ''\n    });\n    setAnseliForm({\n      ...a,\n      next_pay_date: a?.next_pay_date ? a.next_pay_date : ''\n    });\n  }, [data]);\n\n  const saveJorge = async () => {\n    setSaving(true);\n    await supabase.from('income_sources').update({\n      amount: +jorgeForm.amount,\n      next_pay_date: jorgeForm.next_pay_date\n    }).eq('id', jorge.id);\n    setEditingJorge(false);\n    setSaving(false);\n    reload();\n  };\n\n  const saveAnseli = async () => {\n    setSaving(true);\n    await supabase.from('income_sources').update({\n      amount: +anseliForm.amount,\n      next_pay_date: anseliForm.next_pay_date\n    }).eq('id', anseli.id);\n    setEditingAnseli(false);\n    setSaving(false);\n    reload();\n  };\n\n  if (!jorge || !anseli) return <div style={s.loading}>Loading...</div>;\n\n  const totalBiweekly = +jorge.amount + +anseli.amount;\n  const totalMonthly = totalBiweekly * 2;\n  const jorgeMonthly = +jorge.amount * 2;\n  const anseliMonthly = +anseli.amount * 2;\n\n  return (\n    <div>\n      <h1 style={s.h1}>Settings</h1>\n\n      {/* Summary Card at Top */}\n      <Card t=\"Combined Income\">\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '1.5rem' }}>\n          <div style={{ padding: '1rem', background: '#0a0a0a', borderRadius: '8px', textAlign: 'center' }}>\n            <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Bi-weekly Total</div>\n            <div style={{ fontSize: '1.8rem', fontWeight: 700, color: '#4ade80' }}>${totalBiweekly.toLocaleString()}</div>\n          </div>\n          <div style={{ padding: '1rem', background: '#0a0a0a', borderRadius: '8px', textAlign: 'center' }}>\n            <div style={{ fontSize: '0.85rem', color: '#999', marginBottom: '0.5rem' }}>Monthly Total (approx)</div>\n            <div style={{ fontSize: '1.8rem', fontWeight: 700, color: '#4ade80' }}>${Math.round(totalMonthly).toLocaleString()}</div>\n          </div>\n        </div>\n\n        <h3 style={{ ...s.h3, marginBottom: '1rem' }}>Individual Monthly Income</h3>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\n          <div style={{ padding: '1rem', background: '#0a0a0a', borderRadius: '8px', border: '1px solid #4ade80' }}>\n            <div style={{ fontSize: '0.9rem', color: '#4ade80', marginBottom: '0.5rem', fontWeight: 600 }}>Jorge</div>\n            <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#fff' }}>${Math.round(jorgeMonthly).toLocaleString()}</div>\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>per month</div>\n          </div>\n          <div style={{ padding: '1rem', background: '#0a0a0a', borderRadius: '8px', border: '1px solid #4ade80' }}>\n            <div style={{ fontSize: '0.9rem', color: '#4ade80', marginBottom: '0.5rem', fontWeight: 600 }}>Anseli</div>\n            <div style={{ fontSize: '1.5rem', fontWeight: 700, color: '#fff' }}>${Math.round(anseliMonthly).toLocaleString()}</div>\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>per month</div>\n          </div>\n        </div>\n      </Card>\n\n      {/* Jorge Card */}\n      <Card>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n          <h2 style={{ ...s.h2, margin: 0, color: '#4ade80' }}>Jorge</h2>\n          {!editingJorge && (\n            <button onClick={() => setEditingJorge(true)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n          )}\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.9rem', fontWeight: 500 }}>\n              Paycheck Amount\n            </label>\n            {editingJorge ? (\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={jorgeForm.amount}\n                onChange={(e) => setJorgeForm({ ...jorgeForm, amount: e.target.value })}\n                style={{ ...s.input, padding: '0.5rem' }}\n              />\n            ) : (\n              <div style={{ fontSize: '1.3rem', fontWeight: 600, color: '#4ade80' }}>\n                ${(+jorge.amount).toLocaleString()}\n              </div>\n            )}\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>Every 2 weeks</div>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.9rem', fontWeight: 500 }}>\n              Next Pay Date\n            </label>\n            {editingJorge ? (\n              <input\n                type=\"date\"\n                value={jorgeForm.next_pay_date || ''}\n                onChange={(e) => setJorgeForm({ ...jorgeForm, next_pay_date: e.target.value })}\n                onClick={(e) => e.target.showPicker && e.target.showPicker()}\n                style={{ \n                  ...s.input, \n                  padding: '0.5rem',\n                  cursor: 'pointer'\n                }}\n              />\n            ) : (\n              <div style={{ fontSize: '1.1rem', fontWeight: 600 }}>\n                {jorge.next_pay_date ? new Date(jorge.next_pay_date + 'T00:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : 'Not set'}\n              </div>\n            )}\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>Bi-weekly</div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: '1rem', padding: '0.75rem', background: '#0a0a0a', borderRadius: '6px' }}>\n          <div style={{ fontSize: '0.85rem', color: '#999' }}>Monthly (approx)</div>\n          <div style={{ fontSize: '1.2rem', fontWeight: 700, color: '#4ade80' }}>\n            ${Math.round((+jorge.amount) * 2).toLocaleString()}\n          </div>\n        </div>\n\n        {editingJorge && (\n          <div style={{ marginTop: '1rem', display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\n            <Btn onClick={saveJorge} disabled={saving}>\n              {saving ? 'Saving...' : 'Save Changes'}\n            </Btn>\n            <Btn sec onClick={() => { setEditingJorge(false); setJorgeForm(jorge); }}>\n              Cancel\n            </Btn>\n          </div>\n        )}\n      </Card>\n\n      {/* Anseli Card */}\n      <Card>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n          <h2 style={{ ...s.h2, margin: 0, color: '#4ade80' }}>Anseli</h2>\n          {!editingAnseli && (\n            <button onClick={() => setEditingAnseli(true)} style={s.iconBtn} title=\"Edit\">âœï¸</button>\n          )}\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.9rem', fontWeight: 500 }}>\n              Paycheck Amount\n            </label>\n            {editingAnseli ? (\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={anseliForm.amount}\n                onChange={(e) => setAnseliForm({ ...anseliForm, amount: e.target.value })}\n                style={{ ...s.input, padding: '0.5rem' }}\n              />\n            ) : (\n              <div style={{ fontSize: '1.3rem', fontWeight: 600, color: '#4ade80' }}>\n                ${(+anseli.amount).toLocaleString()}\n              </div>\n            )}\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>Every 2 weeks</div>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.9rem', fontWeight: 500 }}>\n              Next Pay Date\n            </label>\n            {editingAnseli ? (\n              <input\n                type=\"date\"\n                value={anseliForm.next_pay_date || ''}\n                onChange={(e) => setAnseliForm({ ...anseliForm, next_pay_date: e.target.value })}\n                onClick={(e) => e.target.showPicker && e.target.showPicker()}\n                style={{ \n                  ...s.input, \n                  padding: '0.5rem',\n                  cursor: 'pointer'\n                }}\n              />\n            ) : (\n              <div style={{ fontSize: '1.1rem', fontWeight: 600 }}>\n                {anseli.next_pay_date ? new Date(anseli.next_pay_date + 'T00:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : 'Not set'}\n              </div>\n            )}\n            <div style={{ fontSize: '0.8rem', color: '#999', marginTop: '0.25rem' }}>Bi-weekly</div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: '1rem', padding: '0.75rem', background: '#0a0a0a', borderRadius: '6px' }}>\n          <div style={{ fontSize: '0.85rem', color: '#999' }}>Monthly (approx)</div>\n          <div style={{ fontSize: '1.2rem', fontWeight: 700, color: '#4ade80' }}>\n            ${Math.round((+anseli.amount) * 2).toLocaleString()}\n          </div>\n        </div>\n\n        {editingAnseli && (\n          <div style={{ marginTop: '1rem', display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\n            <Btn onClick={saveAnseli} disabled={saving}>\n              {saving ? 'Saving...' : 'Save Changes'}\n            </Btn>\n            <Btn sec onClick={() => { setEditingAnseli(false); setAnseliForm(anseli); }}>\n              Cancel\n            </Btn>\n          </div>\n        )}\n      </Card>\n\n      {/* Backup & Export Section */}\n      <BackupExport data={data} />\n    </div>\n  );\n}\n\nfunction BackupExport({ data }) {\n  const [expanded, setExpanded] = useState(false);\n  const [lastExport, setLastExport] = useState(null);\n\n  // Load last export date from localStorage\n  useState(() => {\n    const saved = localStorage.getItem('lastExportDate');\n    if (saved) setLastExport(new Date(saved));\n  }, []);\n\n  const exportAllJSON = () => {\n    const exportData = {\n      version: '1.0',\n      exportDate: new Date().toISOString(),\n      data: {\n        income: data.income,\n        bills: data.bills,\n        cards: data.cards,\n        loans: data.loans,\n        subscriptions: data.subscriptions,\n        notes: data.notes\n      }\n    };\n\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `medina-budget-backup-${new Date().toISOString().split('T')[0]}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n\n    const now = new Date();\n    setLastExport(now);\n    localStorage.setItem('lastExportDate', now.toISOString());\n  };\n\n  const exportCSV = (tableName, tableData) => {\n    if (!tableData || tableData.length === 0) {\n      alert(`No data in ${tableName} to export`);\n      return;\n    }\n\n    // Get all unique keys from the data\n    const keys = Object.keys(tableData[0]);\n    \n    // Create CSV header\n    const csv = [\n      keys.join(','),\n      ...tableData.map(row => \n        keys.map(key => {\n          const val = row[key];\n          // Handle values with commas, quotes, or newlines\n          if (val === null || val === undefined) return '';\n          const str = String(val);\n          if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n            return `\"${str.replace(/\"/g, '\"\"')}\"`;\n          }\n          return str;\n        }).join(',')\n      )\n    ].join('\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${tableName.toLowerCase()}-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const importJSON = async () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    \n    input.onchange = async (e) => {\n      const file = e.target.files[0];\n      if (!file) return;\n\n      try {\n        const text = await file.text();\n        const importData = JSON.parse(text);\n\n        if (!importData.version || !importData.data) {\n          alert('Invalid backup file format');\n          return;\n        }\n\n        const confirmed = window.confirm(\n          `âš ï¸ WARNING: This will replace all current data!\\n\\n` +\n          `Backup contains:\\n` +\n          `- ${importData.data.income?.length || 0} income sources\\n` +\n          `- ${importData.data.bills?.length || 0} bills\\n` +\n          `- ${importData.data.cards?.length || 0} credit cards\\n` +\n          `- ${importData.data.loans?.length || 0} loans\\n` +\n          `- ${importData.data.subscriptions?.length || 0} subscriptions\\n` +\n          `- ${importData.data.notes?.length || 0} notes\\n\\n` +\n          `Continue with import?`\n        );\n\n        if (!confirmed) return;\n\n        // Import data to Supabase\n        const importPromises = [];\n\n        // Delete existing data and import new (for each table)\n        if (importData.data.income) {\n          importPromises.push(\n            supabase.from('income_sources').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('income_sources').insert(importData.data.income.map(i => ({ ...i, id: undefined }))))\n          );\n        }\n        if (importData.data.bills) {\n          importPromises.push(\n            supabase.from('bills').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('bills').insert(importData.data.bills.map(b => ({ ...b, id: undefined }))))\n          );\n        }\n        if (importData.data.cards) {\n          importPromises.push(\n            supabase.from('credit_cards').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('credit_cards').insert(importData.data.cards.map(c => ({ ...c, id: undefined }))))\n          );\n        }\n        if (importData.data.loans) {\n          importPromises.push(\n            supabase.from('loans').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('loans').insert(importData.data.loans.map(l => ({ ...l, id: undefined }))))\n          );\n        }\n        if (importData.data.subscriptions) {\n          importPromises.push(\n            supabase.from('subscriptions').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('subscriptions').insert(importData.data.subscriptions.map(s => ({ ...s, id: undefined }))))\n          );\n        }\n        if (importData.data.notes) {\n          importPromises.push(\n            supabase.from('budget_notes').delete().neq('id', '00000000-0000-0000-0000-000000000000')\n              .then(() => supabase.from('budget_notes').insert(importData.data.notes.map(n => ({ ...n, id: undefined }))))\n          );\n        }\n\n        await Promise.all(importPromises);\n        \n        alert('âœ… Import successful! Page will reload...');\n        window.location.reload();\n      } catch (error) {\n        console.error('Import error:', error);\n        alert('âŒ Import failed: ' + error.message);\n      }\n    };\n\n    input.click();\n  };\n\n  const daysSinceExport = lastExport ? Math.floor((new Date() - lastExport) / (1000 * 60 * 60 * 24)) : null;\n\n  return (\n    <div style={{ \n      background: '#1a1a1a', \n      border: '1px solid #2d2d2d', \n      borderRadius: '12px', \n      overflow: 'hidden',\n      marginTop: '1.5rem'\n    }}>\n      <div \n        onClick={() => setExpanded(!expanded)}\n        style={{ \n          padding: '1.5rem', \n          cursor: 'pointer', \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center',\n          borderBottom: expanded ? '1px solid #2d2d2d' : 'none'\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n          <span style={{ fontSize: '1.5rem' }}>ðŸ’¾</span>\n          <div>\n            <h3 style={{ fontSize: '1.25rem', fontWeight: 600, marginBottom: '0.25rem' }}>Backup & Export</h3>\n            <p style={{ fontSize: '0.9rem', color: '#999', margin: 0 }}>\n              {lastExport ? (\n                daysSinceExport === 0 ? 'Last backup: Today' :\n                daysSinceExport === 1 ? 'Last backup: Yesterday' :\n                `Last backup: ${daysSinceExport} days ago`\n              ) : 'No backups yet'}\n              {daysSinceExport > 30 && <span style={{ color: '#ef4444', marginLeft: '0.5rem' }}>âš ï¸ Backup recommended</span>}\n            </p>\n          </div>\n        </div>\n        <span style={{ fontSize: '1.5rem', transition: 'transform 0.2s', transform: expanded ? 'rotate(180deg)' : 'rotate(0)' }}>\n          â–¼\n        </span>\n      </div>\n\n      {expanded && (\n        <div style={{ padding: '1.5rem' }}>\n          {/* Full Backup Section */}\n          <div style={{ marginBottom: '2rem' }}>\n            <h4 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <span>ðŸ“¦</span> Full Backup (JSON)\n            </h4>\n            <p style={{ color: '#999', fontSize: '0.9rem', marginBottom: '1rem' }}>\n              Export all data as JSON for complete backup. Includes all bills, debt, subscriptions, and notes.\n            </p>\n            <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n              <Btn onClick={exportAllJSON}>\n                ðŸ“¥ Export All Data\n              </Btn>\n              <Btn sec onClick={importJSON}>\n                ðŸ“¤ Import Backup\n              </Btn>\n            </div>\n          </div>\n\n          {/* CSV Exports Section */}\n          <div>\n            <h4 style={{ fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <span>ðŸ“Š</span> Export to CSV\n            </h4>\n            <p style={{ color: '#999', fontSize: '0.9rem', marginBottom: '1rem' }}>\n              Export individual tables as CSV for use in Excel or Google Sheets.\n            </p>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '0.5rem' }}>\n              <Btn sec onClick={() => exportCSV('Income', data.income)}>\n                ðŸ’µ Income ({data.income?.length || 0})\n              </Btn>\n              <Btn sec onClick={() => exportCSV('Bills', data.bills)}>\n                ðŸ“„ Bills ({data.bills?.length || 0})\n              </Btn>\n              <Btn sec onClick={() => exportCSV('Credit-Cards', data.cards)}>\n                ðŸ’³ Cards ({data.cards?.length || 0})\n              </Btn>\n              <Btn sec onClick={() => exportCSV('Loans', data.loans)}>\n                ðŸ¦ Loans ({data.loans?.length || 0})\n              </Btn>\n              <Btn sec onClick={() => exportCSV('Subscriptions', data.subscriptions)}>\n                ðŸ“… Subscriptions ({data.subscriptions?.length || 0})\n              </Btn>\n              <Btn sec onClick={() => exportCSV('Notes', data.notes)}>\n                ðŸ“ Notes ({data.notes?.length || 0})\n              </Btn>\n            </div>\n          </div>\n\n          {/* Info Box */}\n          <div style={{ \n            marginTop: '1.5rem', \n            padding: '1rem', \n            background: '#0a0a0a', \n            border: '1px solid #2d2d2d', \n            borderRadius: '8px' \n          }}>\n            <div style={{ fontSize: '0.9rem', color: '#999', lineHeight: '1.6' }}>\n              <strong style={{ color: '#4ade80' }}>ðŸ’¡ Backup Tips:</strong>\n              <ul style={{ marginTop: '0.5rem', marginBottom: 0, paddingLeft: '1.5rem' }}>\n                <li>Export full backup monthly for safety</li>\n                <li>Store backups in cloud storage (Google Drive, Dropbox)</li>\n                <li>CSV exports are great for analysis in Excel</li>\n                <li>Import will replace ALL current data - use with caution!</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Components\nconst StatCard = ({ l, v, g, sub }) => (\n  <div style={s.stat}>\n    <div style={{ color: '#999', fontSize: '0.9rem', marginBottom: '0.5rem' }}>{l}</div>\n    <div style={{ fontSize: '2rem', fontWeight: 700, color: g ? '#4ade80' : '#fff' }}>{v}</div>\n    {sub && <div style={{ color: '#999', fontSize: '0.85rem', marginTop: '0.5rem' }}>{sub}</div>}\n  </div>\n);\n\nconst Card = ({ t, children }) => (\n  <div style={s.card}>\n    {t && <h2 style={s.h2}>{t}</h2>}\n    {children}\n  </div>\n);\n\nconst Btn = ({ children, onClick, sm, sec, danger, disabled, type }) => (\n  <button type={type} onClick={onClick} disabled={disabled} style={{\n    ...s.btn,\n    ...(sm && { padding: '0.4rem 0.8rem', fontSize: '0.85rem' }),\n    ...(danger && { background: '#ef4444' }),\n    ...(sec && { background: '#2d2d2d' }),\n    ...(disabled && { opacity: 0.5, cursor: 'not-allowed' })\n  }}>\n    {children}\n  </button>\n);\n\nconst Inp = ({ l, ...props }) => (\n  <div style={{ marginBottom: '1rem' }}>\n    {l && <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>{l}</label>}\n    <input {...props} style={s.input} />\n  </div>\n);\n\nconst Bdg = ({ children, g }) => (\n  <span style={{ display: 'inline-block', padding: '0.25rem 0.75rem', borderRadius: '12px', fontSize: '0.85rem', fontWeight: 500, \n    background: g ? 'rgba(74,222,128,0.2)' : 'rgba(59,130,246,0.2)', color: g ? '#4ade80' : '#3b82f6' }}>\n    {children}\n  </span>\n);\n\n// Styles\nconst s = {\n  app: { minHeight: '100vh', background: '#0a0a0a', color: '#e0e0e0', fontFamily: 'system-ui, -apple-system, sans-serif' },\n  nav: { background: '#1a1a1a', borderBottom: '2px solid #2d2d2d', padding: '1rem 1.5rem', position: 'sticky', top: 0, zIndex: 100, display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '1rem' },\n  title: { fontSize: '1.5rem', fontWeight: 700, color: '#4ade80', margin: 0 },\n  links: { display: 'flex', gap: '0.5rem', flexWrap: 'wrap' },\n  navBtn: { background: 'transparent', color: '#e0e0e0', border: 'none', padding: '0.5rem 1rem', borderRadius: '6px', cursor: 'pointer', fontWeight: 500, fontSize: '0.9rem' },\n  navBtnActive: { background: '#2d2d2d', color: '#4ade80' },\n  main: { maxWidth: '1400px', margin: '0 auto', padding: '2rem 1.5rem' },\n  loading: { display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '50vh', fontSize: '1.2rem', color: '#999' },\n  h1: { fontSize: '2rem', fontWeight: 700, marginBottom: '2rem' },\n  h2: { fontSize: '1.25rem', fontWeight: 600, marginBottom: '1rem' },\n  h3: { fontSize: '0.9rem', color: '#999', marginBottom: '0.75rem', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: 600 },\n  grid: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1.5rem', marginBottom: '2rem' },\n  stat: { background: 'linear-gradient(135deg, #1a1a1a, #0a0a0a)', border: '1px solid #2d2d2d', borderRadius: '12px', padding: '1.5rem' },\n  card: { background: '#1a1a1a', border: '1px solid #2d2d2d', borderRadius: '12px', padding: '1.5rem', marginBottom: '1.5rem' },\n  expCard: { background: '#1a1a1a', border: '1px solid #2d2d2d', borderRadius: '12px', marginBottom: '1.5rem', overflow: 'hidden' },\n  expHeader: { padding: '1.5rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center', cursor: 'pointer', transition: 'background 0.2s', ':hover': { background: '#0a0a0a' } },\n  expBody: { borderTop: '1px solid #2d2d2d' },\n  table: { width: '100%', borderCollapse: 'collapse' },\n  th: { padding: '1rem', textAlign: 'left', borderBottom: '1px solid #2d2d2d', fontWeight: 600, color: '#999', textTransform: 'uppercase', fontSize: '0.85rem' },\n  td: { padding: '1rem', borderBottom: '1px solid #2d2d2d' },\n  btn: { padding: '0.625rem 1.25rem', borderRadius: '6px', border: 'none', fontWeight: 500, cursor: 'pointer', fontSize: '0.9rem', background: '#4ade80', color: '#0a0a0a' },\n  iconBtn: { background: 'transparent', border: 'none', cursor: 'pointer', fontSize: '1.2rem', padding: '0.25rem 0.5rem', borderRadius: '4px', transition: 'background 0.2s', ':hover': { background: '#2d2d2d' } },\n  input: { width: '100%', padding: '0.75rem', background: '#0a0a0a', border: '1px solid #2d2d2d', borderRadius: '6px', color: '#e0e0e0', fontSize: '1rem' },\n  editInput: { width: '100%', padding: '0.5rem', background: '#0a0a0a', border: '1px solid #4ade80', borderRadius: '4px', color: '#e0e0e0', fontSize: '0.9rem' }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}